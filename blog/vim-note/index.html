<!DOCTYPE html><html lang="en" class="dark"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.11.0"><!-- Font preloads --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet"><!-- Canonical URL --><link rel="canonical" href="https://yangxuewu.com/blog/vim-note/"><!-- Primary Meta Tags --><title>vim 笔记 | Simon Y.</title><meta name="title" content="vim 笔记"><meta name="description" content=""><meta name="author" content="Simon Y."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://yangxuewu.com/blog/vim-note/"><meta property="og:title" content="vim 笔记"><meta property="og:description" content=""><meta property="og:image" content="https://yangxuewu.com/og-image/vim-note.png"><meta property="article:author" content="Simon Y."><meta property="article:published_time" content="2020-07-04T00:00:00.000Z"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://yangxuewu.com/blog/vim-note/"><meta property="twitter:title" content="vim 笔记"><meta property="twitter:description" content=""><meta property="twitter:image" content="https://yangxuewu.com/og-image/vim-note.png"><link rel="stylesheet" href="/_astro/about.Tfa2nFZT.css">
<link rel="stylesheet" href="/_astro/about.CoeDIuRf.css">
<style>li[data-astro-cid-zekvapgs]:before{content:"#";margin-right:-.5rem;color:var(--theme-accent)}.active-toc[data-astro-cid-zekvapgs]{color:var(--theme-accent)}
button[data-astro-cid-xuhzuiaq]{position:fixed;bottom:1rem;left:82%;display:none;height:3rem;width:3rem;align-items:center;justify-content:center;border-radius:9999px;background-color:var(--theme-accent);color:var(--theme-bg);--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}button[data-astro-cid-xuhzuiaq]:hover{--tw-scale-x: 1.25;--tw-scale-y: 1.25;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (min-width: 640px){button[data-astro-cid-xuhzuiaq]{bottom:2rem;height:2.5rem;width:2.5rem}}@media (min-width: 768px){button[data-astro-cid-xuhzuiaq]{left:90%}}@media (min-width: 1536px){button[data-astro-cid-xuhzuiaq]{left:75%}}
</style><script type="module" src="/_astro/hoisted.DWBFCYtM.js"></script></head> <body> <header class="group relative mb-8 flex justify-between items-center gap-4" id="main-header" data-astro-cid-3ef6ksr2> <div class="block" data-astro-cid-3ef6ksr2> <a class="title whitespace-nowrap" href="/" data-astro-cid-3ef6ksr2>Simon Y.</a> </div> <nav class="mt-4 bg-surface/95 sm:bg-bgColor absolute hidden top-8 w-full sm:block sm:static sm:mt-0 group-[.menu-open]:z-50 group-[.menu-open]:flex group-[.menu-open]:bg-bgColor" id="navigation-menu" aria-label="main menu" data-astro-cid-3ef6ksr2> <div class="space-y-1 px-2 pb-3 pt-2 sm:flex sm:px-0 sm:py-0 sm:space-y-0 sm:space-x-2" data-astro-cid-3ef6ksr2> <a href="/" class="block py-2 sm:py-0" title="Home" data-astro-prefetch data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Home </a> <a href="/blog" class="block py-2 sm:py-0" title="Blog" data-astro-prefetch data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Blog </a> <a href="/books" class="block py-2 sm:py-0" title="Books" data-astro-prefetch data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Books </a> <a href="/archive" class="block py-2 sm:py-0" title="Archive" data-astro-prefetch data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Archive </a> <a href="/about" class="block py-2 sm:py-0" title="About" data-astro-prefetch data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> About </a>  <a href="/tags" class="sm:hidden block py-2 sm:py-0" title="tags" data-astro-prefetch data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Tags </a>  <a href="/series" class="sm:hidden block py-2 sm:py-0" title="series" data-astro-prefetch data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Series </a>  </div> </nav> <div class="flex gap-2 items-center justify-center" data-astro-cid-3ef6ksr2> <button id="themeToggle" class="transition-all relative" aria-label="toggle theme" data-astro-cid-x3pjskd3> <svg width="25px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-astro-cid-x3pjskd3> <path class="sun opacity-100 transition-all dark:scale-0 dark:opacity-0" fill-rule="evenodd" d="M12 17.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zm0 1.5a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm12-7a.8.8 0 0 1-.8.8h-2.4a.8.8 0 0 1 0-1.6h2.4a.8.8 0 0 1 .8.8zM4 12a.8.8 0 0 1-.8.8H.8a.8.8 0 0 1 0-1.6h2.5a.8.8 0 0 1 .8.8zm16.5-8.5a.8.8 0 0 1 0 1l-1.8 1.8a.8.8 0 0 1-1-1l1.7-1.8a.8.8 0 0 1 1 0zM6.3 17.7a.8.8 0 0 1 0 1l-1.7 1.8a.8.8 0 1 1-1-1l1.7-1.8a.8.8 0 0 1 1 0zM12 0a.8.8 0 0 1 .8.8v2.5a.8.8 0 0 1-1.6 0V.8A.8.8 0 0 1 12 0zm0 20a.8.8 0 0 1 .8.8v2.4a.8.8 0 0 1-1.6 0v-2.4a.8.8 0 0 1 .8-.8zM3.5 3.5a.8.8 0 0 1 1 0l1.8 1.8a.8.8 0 1 1-1 1L3.5 4.6a.8.8 0 0 1 0-1zm14.2 14.2a.8.8 0 0 1 1 0l1.8 1.7a.8.8 0 0 1-1 1l-1.8-1.7a.8.8 0 0 1 0-1z" data-astro-cid-x3pjskd3></path> <path class="moon opacity-0 transition-all dark:scale-100 dark:opacity-100" fill-rule="evenodd" d="M16.5 6A10.5 10.5 0 0 1 4.7 16.4 8.5 8.5 0 1 0 16.4 4.7l.1 1.3zm-1.7-2a9 9 0 0 1 .2 2 9 9 0 0 1-11 8.8 9.4 9.4 0 0 1-.8-.3c-.4 0-.8.3-.7.7a10 10 0 0 0 .3.8 10 10 0 0 0 9.2 6 10 10 0 0 0 4-19.2 9.7 9.7 0 0 0-.9-.3c-.3-.1-.7.3-.6.7a9 9 0 0 1 .3.8z" data-astro-cid-x3pjskd3></path> </svg> </button>  <script>
  const theme = (() => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme');
    }
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark';
    }
      return 'light';
  })();

  if (theme === 'light') {
    document.documentElement.classList.remove('dark');
  } else {
    document.documentElement.classList.add('dark');
  }

  window.localStorage.setItem('theme', theme);

  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle("dark");

    const isDark = element.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  }

  document.getElementById("themeToggle").addEventListener("click", handleToggleClick);
</script> <nav-button data-astro-cid-3ef6ksr2> <div class="sm:hidden" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>open main menu</span> <button class="group flex items-center justify-center" type="button" id="navigation-menu-btn" aria-label="Open main menu" aria-expanded="false" aria-haspopup="menu" data-astro-cid-3ef6ksr2> <!-- icon when menu is closed --> <svg class="transform transition-all duration-150 ease-out group-aria-expanded:scale-0 group-aria-expanded:opacity-0 h-6 w-6 block group-aria-expanded:hidden" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-astro-cid-3ef6ksr2> <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" data-astro-cid-3ef6ksr2></path> </svg> <!-- icon when menu is open --> <svg class="transform transition-all duration-150 ease-out h-6 w-6 scale-0 text-accent opacity-0 transition-all group-aria-expanded:scale-100 group-aria-expanded:opacity-100 hidden group-aria-expanded:block" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-astro-cid-3ef6ksr2> <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" data-astro-cid-3ef6ksr2></path> </svg> </button> </div> </nav-button> </div> </header>   <main class="grid grid-cols-1 gap-y-16 sm:grid-cols-[3fr_1fr] sm:gap-x-4">  <article class="cody-bg prose dark:prose-invert prose-cody text-textColor max-w-4xl"> <header class="space-y-2"> <div class="aspect-h-9 aspect-w-16 mb-6 w-full flex justify-center"> <img src="" alt="" class="m-0"> </div> <div class="md:sr-only not-sr-only"> <span>Part of series:</span> <a class="cody-link" href="/series/tech">tech</a> </div> <div class="flex gap-2 items-center"> <h1 class="text-3xl my-0">vim 笔记</h1>  </div> <span class="font-semibold text-textColor flex gap-2 items-center"> <time datetime="2020-07-04T00:00:00.000Z" title="4 July 2020"> 4 July 2020 </time> <span>
/ 14 min read </span>  </span> <ul class="not-prose flex gap-2 flex-wrap"> <svg viewBox="0 0 32 32" aria-hidden="true" focusable="false" class="w-5 h-5" astro-icon="carbon:tag-group"><circle cx="10" cy="14" r="2" fill="currentColor"/><path fill="currentColor" d="M16 30a1 1 0 0 1-.71-.29L4.59 19A2 2 0 0 1 4 17.59V10a2 2 0 0 1 2-2h7.59a2 2 0 0 1 1.41.59l10.71 10.7a1 1 0 0 1 0 1.42l-9 9A1 1 0 0 1 16 30zM6 10v7.59l10 10L23.59 20l-10-10z"/><path fill="currentColor" d="M27.71 13.29 17 2.59A2 2 0 0 0 15.59 2H8a2 2 0 0 0-2 2v2h2V4h7.59l10 10-1.3 1.29 1.42 1.42 2-2a1 1 0 0 0 0-1.42z"/></svg> <li class="tag"> <a href="/tags/vim">vim</a> </li><li class="tag"> <a href="/tags/note">note</a> </li> </ul> </header> <hr class="my-4"> <main class="prose-sm prose-headings:font-semibold prose-headings:ml-4 prose-headings:before:absolute prose-headings:before:-ms-4 prose-headings:before:text-accent prose-headings:before:content-['#'] prose-th:before:content-none prose-a:text-accent">  <blockquote>
<p>这篇文档主要记录使用 VIM 的一些命令，要想真正用好 VIM 还需要进行大量的练习，使其成为肌肉记忆，道理和用键盘打字是一样的。</p>
</blockquote>
<h2 id="1-移动光标">1. 移动光标</h2>
<p>在学习移动光标之前，要了解 VIM 有三种工作模式：普通模式、插入模式、视图模式。移动光标的操作是在普通模式下进行的。</p>
<p>怎样移动光标呢？一种很简单的方法，是用方向键移动。但是我们在写代码的时候，双手放在键盘的字母区，要移动光标的使用，还要把手挪到方向键上，然后来回的按上下左右，移动光标，这样是不是很麻烦？VIM 用什么方法移动光标呢？ <strong><code>h</code></strong> <strong><code>j</code></strong> <strong><code>k</code></strong> <strong><code>l</code></strong> 就这四个键，就能实现光标在左、下、上、右四个方向上移动。而且，我们能注意到，这四个键就在你右手的食指、中指、无名指下方，操作起来很方便。</p>
<h2 id="2-插入模式">2. 插入模式</h2>
<h3 id="21-进入插入模式和退出">2.1. 进入插入模式和退出</h3>
<p>打开一个文件后，我们需要输入内容，这时候怎么办呢？这就用到 VIM 的插入模式。进入插入模式的方法很简单，按一下键盘上的 <code>i</code> 键就可以输入内容了，输完内容需要退出的时候，按一下 <code>Esc</code> 键。</p>
<h3 id="22-多种进入插入模式方法">2.2. 多种进入插入模式方法</h3>
<p>如果只是按 <code>i</code> 进入插入模式的话，你会发现每次插入的位置都在光标前面，如果需要在后面插入，还得把光标向后移，如果需要在一行末尾插入内容的话，这时候你就会发现，按 <code>i</code> 根本定位不到那里，还得按方向键，怎么办呢？其实 VIM 还有很多种插入方法。</p>









































<table><thead><tr><th align="center">按键</th><th align="left">含义</th></tr></thead><tbody><tr><td align="center">i</td><td align="left">在光标前进入插入模式</td></tr><tr><td align="center">I</td><td align="left">在光标所在行行首进入插入模式</td></tr><tr><td align="center">a</td><td align="left">在光标后进入插入模式</td></tr><tr><td align="center">A</td><td align="left">在光标所在行行尾进入插入模式</td></tr><tr><td align="center">o</td><td align="left">在光标所在行下方插入空行进入插入模式</td></tr><tr><td align="center">O</td><td align="left">在光标所在行上方插入空行进入插入模式</td></tr><tr><td align="center">s</td><td align="left">删除光标指定的字符并进入插入模式</td></tr><tr><td align="center">S</td><td align="left">将光标所在行清除并进入插入模式</td></tr></tbody></table>
<h3 id="23-退出-vim">2.3. 退出 VIM</h3>
<p>在退出 VIM 前，按 <code>Esc</code> 键使其回到普通模式。</p>
<h4 id="a-保存修改并退出">a. 保存修改并退出</h4>
<ul>
<li><code>Shift</code> + <code>z</code> + <code>z</code></li>
<li><code>:</code> + <code>w</code> + <code>q</code></li>
</ul>
<h4 id="b-直接退出不修改">b. 直接退出不修改</h4>
<ul>
<li>未做改动，<code>:</code> + <code>q</code></li>
<li>放弃改动，<code>:</code> + <code>q</code> + <code>!</code></li>
</ul>
<h2 id="3-删除撤销恢复命令及数字用法">3. 删除、撤销、恢复命令及数字用法</h2>
<h3 id="31-删除命令">3.1. 删除命令</h3>
<p>在普通模式下，用 <code>x</code> 命令删除单一字符，作用同插入模式下的 <code>Delete</code> 键。删除更多字符用 <code>d</code> 命令。</p>
<h3 id="32-组合删除命令">3.2. 组合删除命令</h3>
<p>在使用组合删除命令前，先要了解一些更高级的光标操作动作。除了上面的 <code>h</code>、<code>j</code>、<code>k</code>、<code>l</code> 之外，还有一些移动光标动作命令，值得掌握，因为这些命令能够实现快速的将光标定位到我们需要的位置。</p>









































<table><thead><tr><th align="center">按键</th><th align="left">含义</th></tr></thead><tbody><tr><td align="center">0</td><td align="left">将光标定位到行首</td></tr><tr><td align="center">^</td><td align="left">同上</td></tr><tr><td align="center">$</td><td align="left">将光标定位到行尾</td></tr><tr><td align="center">b</td><td align="left">将光标定位到光标所在单词的起始处</td></tr><tr><td align="center">e</td><td align="left">将光标定位到光标所在单词的结尾处</td></tr><tr><td align="center">w</td><td align="left">讲标定位到下一个单词的起始处</td></tr><tr><td align="center">gg</td><td align="left">将光标定位到文件开头</td></tr><tr><td align="center">G</td><td align="left">将光标定位到文件末尾</td></tr></tbody></table>
<p>然后在这些命令前加上 <code>d</code> 键，就能实现多种删除功能。</p>





























































<table><thead><tr><th align="center">按键</th><th align="left">含义</th></tr></thead><tbody><tr><td align="center">d0</td><td align="left">删除光标从当前位置（不包含）到该行行首的所有字符</td></tr><tr><td align="center">d^</td><td align="left">同上</td></tr><tr><td align="center">d$</td><td align="left">删除从光标当前位置（包含）到该行行尾的所有字符</td></tr><tr><td align="center">db</td><td align="left">删除从光标当前位置（不包含）到单词起始处的所有字符</td></tr><tr><td align="center">de</td><td align="left">删除从光标当前位置（包含）到单词结尾处的所有字符</td></tr><tr><td align="center">dw</td><td align="left">删除从光标当前位置（包含）到下个单词起始处的所有字符</td></tr><tr><td align="center">dd</td><td align="left">删除光标所在行的所有字符</td></tr><tr><td align="center">dgg</td><td align="left">删除光标所在行（包含）到文件开头的所有字符</td></tr><tr><td align="center">dG</td><td align="left">删除光标所在行（包含）到文件末尾的所有字符</td></tr><tr><td align="center">dh</td><td align="left">删除光标前面一个字符</td></tr><tr><td align="center">dl</td><td align="left">删除光标指定的字符</td></tr><tr><td align="center">dj</td><td align="left">删除光标所在行以及下一行的所有字符</td></tr><tr><td align="center">dk</td><td align="left">删除光标所在行以及上一行的所有字符</td></tr></tbody></table>
<p>记忆规律可以简单的归纳为**向前删除不包含光标指定字符本身，向后删除包含光标指定字符本身。**使用中要学会举一反三，熟练运用 <code>h</code>、<code>j</code>、<code>k</code>、<code>l</code> 和删除命令，通过不同的组合方式，达到快速删除目的。</p>
<h3 id="33-数字的应用">3.3. 数字的应用</h3>
<p>利用数字可以更高效的运用 VIM。在 <code>h</code>、<code>j</code>、<code>k</code>、<code>l</code> 前加上数字，就表示向某个方向移动多少个字符或多少行。同样，在删除命令中，也可以在 <code>d</code> 命令后加数字再加动作命令，就能实现按照指定字符或行数进行删除。</p>
<h3 id="34-撤销和恢复">3.4. 撤销和恢复</h3>
<h4 id="a-撤销">a. 撤销</h4>
<ul>
<li><code>u</code>，撤销最后一次修改</li>
<li><code>U</code>，撤销对整行的修改</li>
</ul>
<h4 id="b-恢复">b. 恢复</h4>
<ul>
<li><code>Ctrl</code> + <code>r</code>，恢复撤销的内容</li>
</ul>
<h2 id="4-粘贴拷贝替换修改">4. 粘贴、拷贝、替换、修改</h2>
<p>重点：<strong>VIM 中使用删除命令，并不会直接删除，而是放在 VIM 寄存器中，类似于剪贴板。</strong></p>
<blockquote>
<p>注意：这些命令都是在普通模式下进行。</p>
</blockquote>
<h3 id="41-粘贴命令">4.1. 粘贴命令</h3>
<p>通过删除命令删除一段内容后，这段内容放在了寄存器中，需要把这段内容放入其他地方时，只需要把光标定位到要放入的位置，然后按下 <code>p</code> 键将删除的内容放入光标之后，或按 <code>Shift</code> + <code>p</code> 将内容放入光标之前。</p>
<p>注意：<strong>删除的内容是整段时，会另起一行粘贴；删除的内容是非整段时，会粘贴在光标之后的同一段。</strong></p>
<h3 id="42-拷贝命令">4.2. 拷贝命令</h3>
<p>拷贝的命令是 <code>y</code> ，用法和删除命令 <code>d</code> 一样，也可以使用数字。</p>
<h3 id="43-替换命令">4.3. 替换命令</h3>
<p>替换命令是 <code>r</code>，将光标移动到要替换的字符上，按下 <code>r</code> 再输出新字符即可替换光标所在的字符。</p>
<p>使用 <code>数字</code> + <code>r</code> 表示从光标开始替换 <em>数字</em> 个字符。</p>
<h3 id="44-替换模式">4.4. 替换模式</h3>
<p>按下 <code>Shift</code> + <code>r</code> 进入替换模式，可以连续替换光标处及其后内容，按 <code>Backspace</code> 则恢复被替换字符之前的内容。</p>
<h3 id="45-修改命令">4.5. 修改命令</h3>
<blockquote>
<p>注意：<strong>修改会进入插入模式，替换不会进入插入模式。</strong></p>
</blockquote>
<p>修改命令是 <code>c</code>，后可跟 <code>数字</code> + <code>动作命令</code>，用法同删除命令 <code>d</code>。</p>





















































<table><thead><tr><th align="center"><strong>按键</strong></th><th align="left"><strong>含义</strong></th></tr></thead><tbody><tr><td align="center">c0</td><td align="left">删除光标从当前位置（不包含）到该行行首的所有字符，并进入插入模式</td></tr><tr><td align="center">c^</td><td align="left">同上</td></tr><tr><td align="center">c$</td><td align="left">删除从光标当前位置（包含）到该行行尾的所有字符，并进入插入模式</td></tr><tr><td align="center">cb</td><td align="left">删除从光标当前位置（不包含）到单词起始处的所有字符，并进入插入模式</td></tr><tr><td align="center">ce</td><td align="left">删除从光标当前位置（包含）到单词结尾处的所有字符，并进入插入模式</td></tr><tr><td align="center">cw</td><td align="left">删除从光标当前位置（包含）到下个单词起始处的所有字符，并进入插入模式</td></tr><tr><td align="center">ch</td><td align="left">删除光标前边一个字符，并进入插入模式</td></tr><tr><td align="center">cl</td><td align="left">删除光标指定的字符，并进入插入模式</td></tr><tr><td align="center">cj</td><td align="left">删除光标所在行以及下一行的所有字符，并在光标下一行进入插入模式</td></tr><tr><td align="center">ck</td><td align="left">删除光标所在行以及上一行的所有字符，并在光标下一行进入插入模式</td></tr><tr><td align="center">cc</td><td align="left">删除光标所在行的字符，并进入插入模式</td></tr></tbody></table>
<blockquote>
<p>重点：<strong>修改命令 = 删除 + 进入插入模式</strong></p>
</blockquote>
<blockquote>
<p>注意：<strong>修改命令进入插入模式时的光标就在要修改的位置上。</strong></p>
</blockquote>
<h2 id="5-文件信息跳转定位括号和缩进">5. 文件信息、跳转、定位括号和缩进</h2>
<h3 id="51-文件信息">5.1. 文件信息</h3>
<p>快捷键： <code>Ctrl</code> + <code>g</code></p>
<h3 id="52-跳转">5.2. 跳转</h3>
<p>两种跳转方式</p>
<ul>
<li><code>行号</code> + <code>Shift</code> + <code>g</code></li>
<li><code>:</code> + <code>行号</code></li>
</ul>
<h3 id="53-定位括号">5.3. 定位括号</h3>
<p>将光标放在括号的一边上，按下 <code>%</code> 即可定位另一边的括号所在位置。</p>
<h3 id="54-缩进">5.4. 缩进</h3>
<p>缩进一行用 <code>>></code>，反缩进一行用 <code>&#x3C;&#x3C;</code>。</p>
<p>缩进多行用 <code>可视模式</code>，按 <code>v</code> 进入。用 <code>h</code>、<code>j</code>、<code>k</code>、<code>l</code> 或组合动作命令移动光标，光标移动到的地方被选中，之后按一下 <code>></code> 或 <code>&#x3C;</code> 完成缩进。</p>
<h2 id="6-搜索替换">6. 搜索、替换</h2>
<h3 id="61-搜索命令">6.1. 搜索命令</h3>
<p>在<strong>普通模式</strong>按下 <code>/</code> 进入命令行模式。<code>/</code> 后跟要搜索的内容。要查找下一个目标，按下 <code>n</code> 键，要查找上一个目标按下 <code>N</code> 键。</p>
<blockquote>
<p>注意： 搜索是从光标处开始向后查找</p>
</blockquote>
<p>使用 <code>?</code> 也可进入命令行模式，使用方法和 <code>/</code> 一样，不过<strong>作用是相反的，包括 <code>n</code> 和 <code>N</code> 的作用也是相反的。</strong></p>
<p>被搜索的内容会被标注高亮，取消高亮的方法是：</p>
<p><code>:nohl</code></p>
<h3 id="62-替换命令">6.2. 替换命令</h3>
<ul>
<li>
<p>替换一处内容，将光标定位到要替换的位置，输入 <code>:s/old/new</code>。</p>
</li>
<li>
<p>替换光标所在行内容，输入 <code>:s/old/new/g</code>。</p>
</li>
<li>
<p>替换整个文件匹配内容，输入 <code>:%s/old/new/g</code>。</p>
</li>
<li>
<p>替换整个文件匹配内容并在替换前确认，输出 <code>:%s/old/new/gc</code>，会看到如下信息：</p>
<blockquote>
<p>`replace with __ (y/n/a/q/l/^E/^Y)?</p>
<ul>
<li>y 表示替换</li>
<li>n 表示不替换</li>
<li>a 表示替换所有</li>
<li>q 表示放弃替换</li>
<li>l 表示替换第一个并进入插入模式</li>
<li>^E 表示用 Ctrl+e 来滚动屏幕</li>
<li>^Y 表示用 Ctrl+y 来滚动屏幕</li>
</ul>
</blockquote>
</li>
</ul>
<p>也可以使用 <code>:m,ns/old/new/g</code> 替换从 m 行到 n 行的内容。</p>
<h2 id="7-执行-shell-命令文件另存为合并文件和打开多个文件">7. 执行 shell 命令，文件另存为，合并文件和打开多个文件</h2>
<h3 id="71-执行-shell-命令">7.1. 执行 shell 命令</h3>
<p>使用 <code>:!</code> + <code>shell</code> 命令执行 shell 命令。</p>
<h3 id="72-文件另存为">7.2. 文件另存为</h3>
<h4 id="a-另存文件">a. 另存文件</h4>
<p>使用 <code>:w</code> + <code>新文件名</code> 另存文件。</p>
<h4 id="b-另存局部内容">b. 另存局部内容</h4>
<p>按下 <code>v</code> 键进入可视模式。选中要另存为的内容。按下 <code>:</code>，在屏幕出现的提示信息后输入 <code>w + 文件名</code> 另存文件。</p>
<h3 id="73-合并文件">7.3. 合并文件</h3>
<p>输入 <code>:</code> + <code>r</code> + <code>文件名</code> 将指定文件内容读取到光标所在位置下一行。</p>
<h3 id="74-打开多个文件">7.4. 打开多个文件</h3>
<h4 id="a-命令">a. 命令</h4>
<p>在命令行中使用 <code>-o</code> 或 <code>-O</code> 选项打开多个命令。</p>
<pre class="astro-code astro-code-themes catppuccin-mocha catppuccin-latte" style="background-color:#1e1e2e;--shiki-dark-bg:#eff1f5;color:#cdd6f4;--shiki-dark:#4c4f69; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#89B4FA;--shiki-dark:#1E66F5;font-style:italic;--shiki-dark-font-style:italic">vim</span><span style="color:#A6E3A1;--shiki-dark:#40A02B"> -o</span><span style="color:#A6E3A1;--shiki-dark:#40A02B"> test1.txt</span><span style="color:#A6E3A1;--shiki-dark:#40A02B"> text2.txt</span><span style="color:#A6E3A1;--shiki-dark:#40A02B"> text3.txt</span></span>
<span class="line"></span></code></pre>
<ul>
<li><code>-o</code> 表示垂直并排打开</li>
<li><code>-O</code> 表示水平并排打开</li>
</ul>
<h4 id="b-在不同文件间切换">b. 在不同文件间切换</h4>
<ul>
<li><code>Ctrl</code> + <code>w</code> + <code>w</code> 切换到下个文件</li>
<li><code>Ctrl</code> + <code>w</code> + <code>方向键或 h, j, k, l</code></li>
</ul>
<h4 id="c-退出">c. 退出</h4>
<ul>
<li>退出单个文件用 <code>:q</code>、<code>:q!</code>、<code>:wq</code>、<code>Shift + z + z</code></li>
<li>退出所有文件用 <code>:qa</code>、<code>:qa!</code>、<code>:wqa</code></li>
</ul>  </main> <button id="back-to-top-btn" aria-label="back to top" class="z-50" data-astro-cid-xuhzuiaq> <svg viewBox="0 0 32 32" aria-hidden="true" focusable="false" data-astro-cid-xuhzuiaq class="w-7 h-7 sm:w-5 s:h-6" astro-icon="carbon:arrow-up"><path fill="currentColor" d="M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14 16 4z"/></svg> </button>   </article>   <aside class="hidden sm:block"> <div class="flex flex-col space-y-2"> <h2 class="font-semibold text-lg text-textColor">Simon Y.</h2> <p>Reading, writing, and learning.</p> <div class="flex flex-wrap items-end gap-x-4"> <ul class="flex flex-wrap flex-1 items-center gap-x-2 sm:flex-initial"> <li class="flex"> <a class="inline-block p-1 sm:hover:text-accent" href="https://github.com/SimsalYang" target="_blank" rel="noopener noreferrer" title="Github"> <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" class="h-5 w-5" astro-icon="mdi:github"><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"/></svg> <span class="sr-only">Github</span> </a> </li><li class="flex"> <a class="inline-block p-1 sm:hover:text-accent" href="/rss.xml" target="_blank" rel="noopener noreferrer" title="rss"> <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" class="h-5 w-5" astro-icon="mdi:rss"><path fill="currentColor" d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20 5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg> <span class="sr-only">rss</span> </a> </li> </ul> </div> <span class="!my-4 text-accent" aria-hidden>---</span> <p>  </p> <div class="pt-2 hidden md:block"> <span>Part of series: </span> <br> <ul> <li><a class="cody-link" href="/series/tech">tech</a></li> </ul> </div> </div> <nav class="sticky top-20 order-2 hidden basis-64 lg:block"> <hr> <h2 class="font-bold text-lg">Table of Contents</h2> <ul class="-me-32" id="toc"> <li data-astro-cid-zekvapgs> <a href="#1-移动光标" id="toc-1-移动光标" data-astro-cid-zekvapgs> 1. 移动光标 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#2-插入模式" id="toc-2-插入模式" data-astro-cid-zekvapgs> 2. 插入模式 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#21-进入插入模式和退出" id="toc-21-进入插入模式和退出" data-astro-cid-zekvapgs> 2.1. 进入插入模式和退出 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#22-多种进入插入模式方法" id="toc-22-多种进入插入模式方法" data-astro-cid-zekvapgs> 2.2. 多种进入插入模式方法 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#23-退出-vim" id="toc-23-退出-vim" data-astro-cid-zekvapgs> 2.3. 退出 VIM </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#a-保存修改并退出" id="toc-a-保存修改并退出" data-astro-cid-zekvapgs> a. 保存修改并退出 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#b-直接退出不修改" id="toc-b-直接退出不修改" data-astro-cid-zekvapgs> b. 直接退出不修改 </a>  </li>  </ul> </li>  </ul> </li> <li data-astro-cid-zekvapgs> <a href="#3-删除撤销恢复命令及数字用法" id="toc-3-删除撤销恢复命令及数字用法" data-astro-cid-zekvapgs> 3. 删除、撤销、恢复命令及数字用法 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#31-删除命令" id="toc-31-删除命令" data-astro-cid-zekvapgs> 3.1. 删除命令 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#32-组合删除命令" id="toc-32-组合删除命令" data-astro-cid-zekvapgs> 3.2. 组合删除命令 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#33-数字的应用" id="toc-33-数字的应用" data-astro-cid-zekvapgs> 3.3. 数字的应用 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#34-撤销和恢复" id="toc-34-撤销和恢复" data-astro-cid-zekvapgs> 3.4. 撤销和恢复 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#a-撤销" id="toc-a-撤销" data-astro-cid-zekvapgs> a. 撤销 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#b-恢复" id="toc-b-恢复" data-astro-cid-zekvapgs> b. 恢复 </a>  </li>  </ul> </li>  </ul> </li> <li data-astro-cid-zekvapgs> <a href="#4-粘贴拷贝替换修改" id="toc-4-粘贴拷贝替换修改" data-astro-cid-zekvapgs> 4. 粘贴、拷贝、替换、修改 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#41-粘贴命令" id="toc-41-粘贴命令" data-astro-cid-zekvapgs> 4.1. 粘贴命令 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#42-拷贝命令" id="toc-42-拷贝命令" data-astro-cid-zekvapgs> 4.2. 拷贝命令 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#43-替换命令" id="toc-43-替换命令" data-astro-cid-zekvapgs> 4.3. 替换命令 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#44-替换模式" id="toc-44-替换模式" data-astro-cid-zekvapgs> 4.4. 替换模式 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#45-修改命令" id="toc-45-修改命令" data-astro-cid-zekvapgs> 4.5. 修改命令 </a>  </li>  </ul> </li> <li data-astro-cid-zekvapgs> <a href="#5-文件信息跳转定位括号和缩进" id="toc-5-文件信息跳转定位括号和缩进" data-astro-cid-zekvapgs> 5. 文件信息、跳转、定位括号和缩进 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#51-文件信息" id="toc-51-文件信息" data-astro-cid-zekvapgs> 5.1. 文件信息 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#52-跳转" id="toc-52-跳转" data-astro-cid-zekvapgs> 5.2. 跳转 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#53-定位括号" id="toc-53-定位括号" data-astro-cid-zekvapgs> 5.3. 定位括号 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#54-缩进" id="toc-54-缩进" data-astro-cid-zekvapgs> 5.4. 缩进 </a>  </li>  </ul> </li> <li data-astro-cid-zekvapgs> <a href="#6-搜索替换" id="toc-6-搜索替换" data-astro-cid-zekvapgs> 6. 搜索、替换 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#61-搜索命令" id="toc-61-搜索命令" data-astro-cid-zekvapgs> 6.1. 搜索命令 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#62-替换命令" id="toc-62-替换命令" data-astro-cid-zekvapgs> 6.2. 替换命令 </a>  </li>  </ul> </li> <li data-astro-cid-zekvapgs> <a href="#7-执行-shell-命令文件另存为合并文件和打开多个文件" id="toc-7-执行-shell-命令文件另存为合并文件和打开多个文件" data-astro-cid-zekvapgs> 7. 执行 shell 命令，文件另存为，合并文件和打开多个文件 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#71-执行-shell-命令" id="toc-71-执行-shell-命令" data-astro-cid-zekvapgs> 7.1. 执行 shell 命令 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#72-文件另存为" id="toc-72-文件另存为" data-astro-cid-zekvapgs> 7.2. 文件另存为 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#a-另存文件" id="toc-a-另存文件" data-astro-cid-zekvapgs> a. 另存文件 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#b-另存局部内容" id="toc-b-另存局部内容" data-astro-cid-zekvapgs> b. 另存局部内容 </a>  </li>  </ul> </li> <li data-astro-cid-zekvapgs> <a href="#73-合并文件" id="toc-73-合并文件" data-astro-cid-zekvapgs> 7.3. 合并文件 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#74-打开多个文件" id="toc-74-打开多个文件" data-astro-cid-zekvapgs> 7.4. 打开多个文件 </a> <ul class="ml-2" data-astro-cid-zekvapgs> <li data-astro-cid-zekvapgs> <a href="#a-命令" id="toc-a-命令" data-astro-cid-zekvapgs> a. 命令 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#b-在不同文件间切换" id="toc-b-在不同文件间切换" data-astro-cid-zekvapgs> b. 在不同文件间切换 </a>  </li> <li data-astro-cid-zekvapgs> <a href="#c-退出" id="toc-c-退出" data-astro-cid-zekvapgs> c. 退出 </a>  </li>  </ul> </li>  </ul> </li>  </ul> </nav>  </aside> </main> <footer class="mt-auto flex w-full flex-col items-center justify-center gap-y-2 pb-4 pt-20 text-center align-top font-semibold sm:flex-row sm:justify-between sm:text-xs text-textColor mb-8"> <div class="mr-2 sm:mr-0">
Copyright &copy; 2024  Simon Y. </div> <nav aria-label="More on this site" class="gap-x-0 sm:gap-x-2 sm:flex sm:divide-x sm:divide-accent"> <a href="/" class="px-2 py-0 hover:text-textColor hover:underline sm:px-4 sm:py-2"> Home </a><a href="/blog" class="px-2 py-0 hover:text-textColor hover:underline sm:px-4 sm:py-2"> Blog </a><a href="/books" class="px-2 py-0 hover:text-textColor hover:underline sm:px-4 sm:py-2"> Books </a><a href="/archive" class="px-2 py-0 hover:text-textColor hover:underline sm:px-4 sm:py-2"> Archive </a><a href="/about" class="px-2 py-0 hover:text-textColor hover:underline sm:px-4 sm:py-2"> About </a> </nav> </footer>
</html</body></html> 