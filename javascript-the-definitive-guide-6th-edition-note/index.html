<!DOCTYPE html><html lang="cn_ZH"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><meta data-react-helmet="true" name="twitter:creator" content="@simonyang"/><meta data-react-helmet="true" name="twitter:image:alt" content="JavaScirpt 权威指南笔记 记录《JavaScript 权威指南》（第 6 版）中文版笔记。 1. 概述 JavaScript 是一门高端的、动态的、弱类型的编程语言，非常适合 面向对象和函数式编程风格 。 JavaScript 早已超出其『脚本语言』（scripting…"/><meta data-react-helmet="true" name="twitter:image" content="https://yangxuewu.com/banner.jpg"/><meta data-react-helmet="true" name="twitter:description" content="JavaScirpt 权威指南笔记 记录《JavaScript 权威指南》（第 6 版）中文版笔记。 1. 概述 JavaScript 是一门高端的、动态的、弱类型的编程语言，非常适合 面向对象和函数式编程风格 。 JavaScript 早已超出其『脚本语言』（scripting…"/><meta data-react-helmet="true" name="twitter:url" content="https://yangxuewu.com/javascript-the-definitive-guide-6th-edition-note/"/><meta data-react-helmet="true" name="twitter:title" content="《JavaScript 权威指南》（第 6 版）中文版笔记。"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" property="og:image:alt" content="JavaScirpt 权威指南笔记 记录《JavaScript 权威指南》（第 6 版）中文版笔记。 1. 概述 JavaScript 是一门高端的、动态的、弱类型的编程语言，非常适合 面向对象和函数式编程风格 。 JavaScript 早已超出其『脚本语言』（scripting…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="https://yangxuewu.com/banner.jpg"/><meta data-react-helmet="true" property="og:description" content="JavaScirpt 权威指南笔记 记录《JavaScript 权威指南》（第 6 版）中文版笔记。 1. 概述 JavaScript 是一门高端的、动态的、弱类型的编程语言，非常适合 面向对象和函数式编程风格 。 JavaScript 早已超出其『脚本语言』（scripting…"/><meta data-react-helmet="true" property="og:url" content="https://yangxuewu.com/javascript-the-definitive-guide-6th-edition-note/"/><meta data-react-helmet="true" property="og:title" content="《JavaScript 权威指南》（第 6 版）中文版笔记。"/><meta data-react-helmet="true" name="image" content="https://yangxuewu.com/banner.jpg"/><meta data-react-helmet="true" name="description" content="JavaScirpt 权威指南笔记 记录《JavaScript 权威指南》（第 6 版）中文版笔记。 1. 概述 JavaScript 是一门高端的、动态的、弱类型的编程语言，非常适合 面向对象和函数式编程风格 。 JavaScript 早已超出其『脚本语言』（scripting…"/><meta name="generator" content="Gatsby 4.5.4"/><style data-href="/styles.84a0f715c65899620506.css" data-identity="gatsby-global-css">/*
! tailwindcss v3.0.18 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;-moz-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:100%;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.m-1{margin:.25rem}.cursor-pointer{cursor:pointer}.rounded-full{border-radius:9999px}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity))}.px-2{padding-left:.5rem;padding-right:.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-bold{font-weight:700}.leading-loose{line-height:2}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}p{line-height:300%}.hover\:bg-gray-300:hover{--tw-bg-opacity:1;background-color:rgb(209 213 219/var(--tw-bg-opacity))}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">《JavaScript 权威指南》（第 6 版）中文版笔记。 | BEIHAI Blog</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&amp;display=swap"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/rss.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-PLS9BCG683"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-PLS9BCG683', {"send_page_view":false});
      }
      </script><link as="script" rel="preload" href="/webpack-runtime-050af6b145167609215a.js"/><link as="script" rel="preload" href="/framework-de026f80c4152d2570ec.js"/><link as="script" rel="preload" href="/app-15bb8988e3d4ff32065b.js"/><link as="script" rel="preload" href="/076b648d06f94fa0e68f4094bcf9c1a72c93f983-bdeab7b9cef700a010e4.js"/><link as="script" rel="preload" href="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-0ba29a80fd0bb999f086.js"/><link as="fetch" rel="preload" href="/page-data/javascript-the-definitive-guide-6th-edition-note/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/318001574.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global 1yc3m30">html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#e2e8f0;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-__default,.theme-ui-__default html{--theme-ui-colors-transparent:transparent;--theme-ui-colors-black:#000;--theme-ui-colors-white:#fff;--theme-ui-colors-gray-1:#f7fafc;--theme-ui-colors-gray-2:#edf2f7;--theme-ui-colors-gray-3:#e2e8f0;--theme-ui-colors-gray-4:#cbd5e0;--theme-ui-colors-gray-5:#a0aec0;--theme-ui-colors-gray-6:#718096;--theme-ui-colors-gray-7:#4a5568;--theme-ui-colors-gray-8:#2d3748;--theme-ui-colors-gray-9:#1a202c;--theme-ui-colors-red-1:#fff5f5;--theme-ui-colors-red-2:#fed7d7;--theme-ui-colors-red-3:#feb2b2;--theme-ui-colors-red-4:#fc8181;--theme-ui-colors-red-5:#f56565;--theme-ui-colors-red-6:#e53e3e;--theme-ui-colors-red-7:#c53030;--theme-ui-colors-red-8:#9b2c2c;--theme-ui-colors-red-9:#742a2a;--theme-ui-colors-orange-1:#fffaf0;--theme-ui-colors-orange-2:#feebc8;--theme-ui-colors-orange-3:#fbd38d;--theme-ui-colors-orange-4:#f6ad55;--theme-ui-colors-orange-5:#ed8936;--theme-ui-colors-orange-6:#dd6b20;--theme-ui-colors-orange-7:#c05621;--theme-ui-colors-orange-8:#9c4221;--theme-ui-colors-orange-9:#7b341e;--theme-ui-colors-yellow-1:#fffff0;--theme-ui-colors-yellow-2:#fefcbf;--theme-ui-colors-yellow-3:#faf089;--theme-ui-colors-yellow-4:#f6e05e;--theme-ui-colors-yellow-5:#ecc94b;--theme-ui-colors-yellow-6:#d69e2e;--theme-ui-colors-yellow-7:#b7791f;--theme-ui-colors-yellow-8:#975a16;--theme-ui-colors-yellow-9:#744210;--theme-ui-colors-green-1:#f0fff4;--theme-ui-colors-green-2:#c6f6d5;--theme-ui-colors-green-3:#9ae6b4;--theme-ui-colors-green-4:#68d391;--theme-ui-colors-green-5:#48bb78;--theme-ui-colors-green-6:#38a169;--theme-ui-colors-green-7:#2f855a;--theme-ui-colors-green-8:#276749;--theme-ui-colors-green-9:#22543d;--theme-ui-colors-teal-1:#e6fffa;--theme-ui-colors-teal-2:#b2f5ea;--theme-ui-colors-teal-3:#81e6d9;--theme-ui-colors-teal-4:#4fd1c5;--theme-ui-colors-teal-5:#38b2ac;--theme-ui-colors-teal-6:#319795;--theme-ui-colors-teal-7:#2c7a7b;--theme-ui-colors-teal-8:#285e61;--theme-ui-colors-teal-9:#234e52;--theme-ui-colors-blue-1:#ebf8ff;--theme-ui-colors-blue-2:#bee3f8;--theme-ui-colors-blue-3:#90cdf4;--theme-ui-colors-blue-4:#63b3ed;--theme-ui-colors-blue-5:#4299e1;--theme-ui-colors-blue-6:#3182ce;--theme-ui-colors-blue-7:#2b6cb0;--theme-ui-colors-blue-8:#2c5282;--theme-ui-colors-blue-9:#2a4365;--theme-ui-colors-indigo-1:#ebf4ff;--theme-ui-colors-indigo-2:#c3dafe;--theme-ui-colors-indigo-3:#a3bffa;--theme-ui-colors-indigo-4:#7f9cf5;--theme-ui-colors-indigo-5:#667eea;--theme-ui-colors-indigo-6:#5a67d8;--theme-ui-colors-indigo-7:#4c51bf;--theme-ui-colors-indigo-8:#434190;--theme-ui-colors-indigo-9:#3c366b;--theme-ui-colors-purple-1:#faf5ff;--theme-ui-colors-purple-2:#e9d8fd;--theme-ui-colors-purple-3:#d6bcfa;--theme-ui-colors-purple-4:#b794f4;--theme-ui-colors-purple-5:#9f7aea;--theme-ui-colors-purple-6:#805ad5;--theme-ui-colors-purple-7:#6b46c1;--theme-ui-colors-purple-8:#553c9a;--theme-ui-colors-purple-9:#44337a;--theme-ui-colors-pink-1:#fff5f7;--theme-ui-colors-pink-2:#fed7e2;--theme-ui-colors-pink-3:#fbb6ce;--theme-ui-colors-pink-4:#f687b3;--theme-ui-colors-pink-5:#ed64a6;--theme-ui-colors-pink-6:#d53f8c;--theme-ui-colors-pink-7:#b83280;--theme-ui-colors-pink-8:#97266d;--theme-ui-colors-pink-9:#702459;--theme-ui-colors-grayDark:#2d3748;--theme-ui-colors-text:#2d3748;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#6b46c1;--theme-ui-colors-primaryHover:#2c5282;--theme-ui-colors-secondary:#5f6c80;--theme-ui-colors-muted:#e2e8f0;--theme-ui-colors-success:#9ae6b4;--theme-ui-colors-info:#63b3ed;--theme-ui-colors-warning:#faf089;--theme-ui-colors-danger:#feb2b2;--theme-ui-colors-light:#f7fafc;--theme-ui-colors-dark:#2d3748;--theme-ui-colors-textMuted:#718096;--theme-ui-colors-toggleIcon:#2d3748;--theme-ui-colors-heading:#000;--theme-ui-colors-divide:#cbd5e0;}html.theme-ui-dark,.theme-ui-dark html{--theme-ui-colors-text:#cbd5e0;--theme-ui-colors-primary:#9f7aea;--theme-ui-colors-secondary:#7f8ea3;--theme-ui-colors-toggleIcon:#cbd5e0;--theme-ui-colors-background:#1A202C;--theme-ui-colors-heading:#fff;--theme-ui-colors-divide:#2d3748;--theme-ui-colors-muted:#2d3748;}</style><style data-emotion="css-global qdqg8g">*{box-sizing:border-box;}html{font-family:'Noto Sans SC',sans-serif;line-height:2;font-weight:400;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);margin:0;padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css-global h7esfd">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text);color:var(--theme-ui-colors-background);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion="css 1gq7j3t">.css-1gq7j3t{border:0;clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1gq7j3t:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading);color:var(--theme-ui-colors-background);z-index:1;width:auto;height:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1gq7j3t">Skip to content</a><style data-emotion="css 1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width: 640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion="css egutgn">.css-egutgn{margin-bottom:4rem;}@media screen and (min-width: 640px){.css-egutgn{margin-bottom:8rem;}}</style><header class="css-egutgn"><style data-emotion="css 1xwyizx">.css-1xwyizx{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><style data-emotion="css 10klvkd">.css-10klvkd{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}</style><div class="css-10klvkd"><style data-emotion="css uxjqfw">.css-uxjqfw{color:var(--theme-ui-colors-heading);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="BEIHAI Blog - Back to home" class="css-uxjqfw" href="/"><style data-emotion="css 102q2va">.css-102q2va{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width: 640px){.css-102q2va{font-size:1.875rem;}}</style><div class="css-102q2va">BEIHAI Blog</div></a><style data-emotion="css zut31r">.css-zut31r{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}.css-zut31r:hover,.css-zut31r:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-zut31r"><style data-emotion="css 1m6u41m">.css-1m6u41m{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon);}.css-1m6u41m:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0, 0);-moz-transform:translate(0, 0);-ms-transform:translate(0, 0);transform:translate(0, 0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;transition:transform 0.45s ease;}.css-1m6u41m:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon),0 23px 0 var(--theme-ui-colors-toggleIcon),23px 0 0 var(--theme-ui-colors-toggleIcon),-23px 0 0 var(--theme-ui-colors-toggleIcon),15px 15px 0 var(--theme-ui-colors-toggleIcon),-15px 15px 0 var(--theme-ui-colors-toggleIcon),15px -15px 0 var(--theme-ui-colors-toggleIcon),-15px -15px 0 var(--theme-ui-colors-toggleIcon);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-1m6u41m"></div></button></div><style data-emotion="css fp1v3n">.css-fp1v3n{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary);-webkit-box-flex-flow:wrap;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-fp1v3n a{color:var(--theme-ui-colors-secondary);}.css-fp1v3n a:hover{color:var(--theme-ui-colors-heading);}</style><div class="css-fp1v3n"><style data-emotion="css quiqiw">.css-quiqiw{font-size:1rem;}.css-quiqiw a:not(:last-of-type){margin-right:4rem;}@media screen and (min-width: 640px){.css-quiqiw{font-size:18px;}}.css-quiqiw .active{color:var(--theme-ui-colors-heading);}</style><nav class="css-quiqiw"><style data-emotion="css bpdkdn">.css-bpdkdn{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-bpdkdn:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-bpdkdn" href="/">Home</a><a class="css-bpdkdn" href="/blog">Blog</a><a class="css-bpdkdn" href="/tags">Tags</a><a class="css-bpdkdn" href="/about">About</a></nav></div></header><style data-emotion="css 1c3blfx">.css-1c3blfx [data-name='live-editor']{font-size:1rem;}.css-1c3blfx [data-name='live-editor'] textarea,.css-1c3blfx [data-name='live-editor'] pre{padding:1rem!important;}.css-1c3blfx [data-name='live-preview']{padding:calc(0.5rem + 10px)!important;background-color:#d2c7ec;}.css-1c3blfx .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-1c3blfx .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-1c3blfx .prism-code{font-size:1.25rem;}}.css-1c3blfx .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1c3blfx .gatsby-highlight[data-language=''] .prism-code,.css-1c3blfx .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-1c3blfx .token{display:inline-block;}.css-1c3blfx p>code,.css-1c3blfx li>code{background-color:var(--theme-ui-colors-gray-2);color:var(--theme-ui-colors-gray-8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1c3blfx .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1, 22, 39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1c3blfx .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1c3blfx .gatsby-highlight pre code{float:left;min-width:100%;}.css-1c3blfx .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1c3blfx .gatsby-highlight pre[class~="language-javascript"]:before,.css-1c3blfx .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1c3blfx .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-1c3blfx .gatsby-highlight pre[class~="language-py"]:before,.css-1c3blfx .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-1c3blfx .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1c3blfx .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1c3blfx .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1c3blfx .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1c3blfx .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1c3blfx .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1c3blfx .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1c3blfx .gatsby-highlight pre[class~='language-json']:before,.css-1c3blfx .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1c3blfx .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1c3blfx .gatsby-highlight>code[class*="language-"],.css-1c3blfx .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-1c3blfx .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1, 22, 39);}.css-1c3blfx .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1c3blfx .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-1c3blfx .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width: 640px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width: 768px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width: 1024px){.css-1c3blfx [data-name='live-preview'],.css-1c3blfx [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1c3blfx .token-line{padding-right:1rem;}.css-1c3blfx .highlight-line{background-color:rgb(2, 55, 81);border-left:4px solid rgb(2, 155, 206);}.css-1c3blfx .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1c3blfx .react-live-wrapper{position:relative;}.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width: 640px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 768px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 1024px){.css-1c3blfx .react-live-wrapper .code-copy-button{right:-1rem;}}</style><style data-emotion="css albdeh">.css-albdeh{box-sizing:border-box;margin:0;min-width:0;}.css-albdeh [data-name='live-editor']{font-size:1rem;}.css-albdeh [data-name='live-editor'] textarea,.css-albdeh [data-name='live-editor'] pre{padding:1rem!important;}.css-albdeh [data-name='live-preview']{padding:calc(0.5rem + 10px)!important;background-color:#d2c7ec;}.css-albdeh .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width: 640px){.css-albdeh .prism-code{font-size:1rem;}}@media screen and (min-width: 768px){.css-albdeh .prism-code{font-size:1.25rem;}}.css-albdeh .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-albdeh .gatsby-highlight[data-language=''] .prism-code,.css-albdeh .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-albdeh .token{display:inline-block;}.css-albdeh p>code,.css-albdeh li>code{background-color:var(--theme-ui-colors-gray-2);color:var(--theme-ui-colors-gray-8);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-albdeh .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1, 22, 39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-albdeh .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-albdeh .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-albdeh .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-albdeh .gatsby-highlight pre code{float:left;min-width:100%;}.css-albdeh .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black);font-size:12px;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-albdeh .gatsby-highlight pre[class~="language-javascript"]:before,.css-albdeh .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-albdeh .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black);}.css-albdeh .gatsby-highlight pre[class~="language-py"]:before,.css-albdeh .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white);}.css-albdeh .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-albdeh .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-albdeh .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-albdeh .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-albdeh .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-albdeh .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-albdeh .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-albdeh .gatsby-highlight pre[class~='language-json']:before,.css-albdeh .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-albdeh .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-albdeh .gatsby-highlight>code[class*="language-"],.css-albdeh .gatsby-highlight>pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary);}.css-albdeh .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1, 22, 39);}.css-albdeh .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-albdeh .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width: 640px){.css-albdeh .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 768px){.css-albdeh .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width: 1024px){.css-albdeh .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width: 640px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width: 768px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width: 1024px){.css-albdeh [data-name='live-preview'],.css-albdeh [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-albdeh .token-line{padding-right:1rem;}.css-albdeh .highlight-line{background-color:rgb(2, 55, 81);border-left:4px solid rgb(2, 155, 206);}.css-albdeh .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-albdeh .react-live-wrapper{position:relative;}.css-albdeh .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width: 640px){.css-albdeh .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 768px){.css-albdeh .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width: 1024px){.css-albdeh .react-live-wrapper .code-copy-button{right:-1rem;}}</style><main id="skip-nav" class=" css-albdeh"><style data-emotion="css 1aue9xx">.css-1aue9xx{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1aue9xx{font-size:3rem;}}@media screen and (min-width: 768px){.css-1aue9xx{font-size:3rem;}}@media screen and (min-width: 1024px){.css-1aue9xx{font-size:4rem;}}</style><h1 class="css-1aue9xx">《JavaScript 权威指南》（第 6 版）中文版笔记。</h1><style data-emotion="css 15ce8we">.css-15ce8we{color:var(--theme-ui-colors-secondary);margin-top:1rem;font-size:1rem;}.css-15ce8we a{color:var(--theme-ui-colors-secondary);}@media screen and (min-width: 640px){.css-15ce8we{font-size:1rem;}}@media screen and (min-width: 768px){.css-15ce8we{font-size:1.25rem;}}</style><p class="css-15ce8we"><time>2020-07-04</time>   <a class="css-bpdkdn" href="/tags/notes"><span class="m-1 bg-gray-200 hover:bg-gray-300 rounded-full px-2 font-bold text-sm leading-loose cursor-pointer">#<!-- -->notes</span></a>   <span>10<!-- --> min read</span></p><style data-emotion="css b56ay0">.css-b56ay0{margin-top:4rem;margin-bottom:4rem;}.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0, 0, 0, 0.15) 0px 32px 32px 0px,rgba(0, 0, 0, 0.15) 0px 16px 16px 0px,rgba(0, 0, 0, 0.15) 0px 8px 8px 0px,rgba(0, 0, 0, 0.15) 0px 4px 4px 0px;}@media screen and (min-width: 640px){.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width: 768px){.css-b56ay0 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-b56ay0"><style data-emotion="css 1u31ba2">.css-1u31ba2{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1u31ba2{font-size:3rem;}}@media screen and (min-width: 768px){.css-1u31ba2{font-size:3rem;}}@media screen and (min-width: 1024px){.css-1u31ba2{font-size:4rem;}}</style><h1 class="css-1u31ba2">JavaScirpt 权威指南笔记</h1><style data-emotion="css 1msd9hy">.css-1msd9hy{font-size:1rem;letter-spacing:-0.003em;line-height:2;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width: 640px){.css-1msd9hy{font-size:1rem;}}@media screen and (min-width: 768px){.css-1msd9hy{font-size:1.25rem;}}.css-1msd9hy code{font-size:1rem;}</style><p class="css-1msd9hy">记录《JavaScript 权威指南》（第 6 版）中文版笔记。</p><style data-emotion="css kih3f7">.css-kih3f7{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-kih3f7{font-size:2.25rem;}}@media screen and (min-width: 768px){.css-kih3f7{font-size:2.25rem;}}@media screen and (min-width: 1024px){.css-kih3f7{font-size:3rem;}}</style><h2 class="css-kih3f7">1. 概述</h2><p class="css-1msd9hy">JavaScript 是一门高端的、动态的、弱类型的编程语言，非常适合<strong class="css-0">面向对象和函数式编程风格</strong>。</p><p class="css-1msd9hy">JavaScript 早已超出其『脚本语言』（scripting-language）本身的范畴，成为一种集健壮性、高效性和通用性为一身的编程语言。</p><p class="css-1msd9hy">ECMAScript 是 JavaScript 的语言标准。</p><p class="css-1msd9hy">ES3 、ES5 就表示 ECMAScript 标准第 3 版、第 5 版，也用 Mozilla 的版本号 JavaScript 1.5 、1.8 表示。</p><p class="css-1msd9hy">我们常用的 JavaScript 解释器或者『引擎』是 Google 的 V8。</p><style data-emotion="css 1o6lusp">.css-1o6lusp{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-1o6lusp{font-size:1.875rem;}}@media screen and (min-width: 768px){.css-1o6lusp{font-size:1.875rem;}}@media screen and (min-width: 1024px){.css-1o6lusp{font-size:2.25rem;}}</style><h3 class="css-1o6lusp">1.1 语言核心</h3><p class="css-1msd9hy">变量是表示值得一个符号名字，变量是通过 <code class="css-0">var</code> 关键字声明的。</p><p class="css-1msd9hy">值可以通过等号赋值给变量。</p><p class="css-1msd9hy">JavaScript 支持多种数据类型:数字（整数、实数共用一种数据类型）、字符串、布尔值、null、undefined 等。</p><p class="css-1msd9hy">JavaScript 非常重要的两个数据类型是<strong class="css-0">对象和数组</strong>。</p><p class="css-1msd9hy">对象是名/值对的集合，或字符串到值映射的集合，通过 <code class="css-0">.</code> 或 <code class="css-0">[]</code> 来访问对象属性。</p><p class="css-1msd9hy">对象和数组中都可以包含另一个对象或数组。</p><p class="css-1msd9hy">表达式、语句、控制结构(control structure)。</p><p class="css-1msd9hy">函数：带有名称(named) 和参数的 JavaScript 代码段，可以一次定义多次调用。</p><p class="css-1msd9hy">将函数和对象合写在一起时，函数就编程了『方法』（method)。</p><p class="css-1msd9hy">所有的 JavaScript 对象都含有方法。</p><h3 class="css-1o6lusp">1.2 客户端 JavaScript</h3><p class="css-1msd9hy">JavaScript 代码可以通过 <code class="css-0">&lt;script&gt;</code> 标签嵌入到 HTML 文件中。</p><p class="css-1msd9hy">可以通过 JavaScript 来操控 Web 浏览器中 HTML 内容和文档的 CSS 样式，同样，也可以通过事件处理程序（event handler）来定义文档的行为。</p><p class="css-1msd9hy">通常我们关心的时间类型是鼠标点击事件和键盘按键事件，或手机中的各种触碰事件。</p><h2 class="css-kih3f7">2. 词法结构</h2><p class="css-1msd9hy">词法结构是一套基础性规则，用来描述如何使用这门语言来编写程序。</p><h3 class="css-1o6lusp">2.1 字符集</h3><p class="css-1msd9hy">JavaScript 程序是用 Unicode 字符集编写的。</p><p class="css-1msd9hy">JavaScript 区分大小写，所有关键字、变量、函数名和标识符必须采用一致的大小写形式。<strong class="css-0">注意：</strong> HTML 不区分大小写。</p><p class="css-1msd9hy">JavaScript 会忽略程序中标识（<style data-emotion="css 1bw77fa">.css-1bw77fa{color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1bw77fa:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="http://en.wikipedia.org/wiki/Token" class="css-1bw77fa">token</a>）之间的空格，多数情况下，JavaScript 同样会忽略换行符。</p><p class="css-1msd9hy">Unicode 转义序列由 6 个 ASCII 字符表示任意 16 位 Unicode 内码，以 <code class="css-0">\u</code> 为前缀，其后跟随 4 个十六进制数。</p><h3 class="css-1o6lusp">2.2 注释</h3><p class="css-1msd9hy">JavaScript 支持两种格式的注释：</p><style data-emotion="css edo1j3">.css-edo1j3 li{font-size:1rem;letter-spacing:-0.003em;line-height:2;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width: 640px){.css-edo1j3 li{font-size:1rem;}}@media screen and (min-width: 768px){.css-edo1j3 li{font-size:1.25rem;}}</style><ul class="css-edo1j3"><li class="css-0">行内注释 <code class="css-0">//</code></li><li class="css-0">多行注释 <code class="css-0">/**/</code></li></ul><h3 class="css-1o6lusp">2.3 直接量</h3><p class="css-1msd9hy">直接量（ literal），就是程序中直接使用的数据值。</p><p class="css-1msd9hy">包括数字、小数、字符串、布尔值、正则表达式、null 等。</p><h3 class="css-1o6lusp">2.4 标识符和保留字</h3><p class="css-1msd9hy">标识符是用来对变量和函数进行命名，或者用作 JavaScript 代码中某些循环语句中跳转位置标记的名字。</p><p class="css-1msd9hy">JavaScript 标识符必须以字母、下划线或美元符开始。</p><p class="css-1msd9hy">保留字是 JavaScript 从标识符中拿出来做关键字的部分，在程序中不能再用这些关键字做标识符了。</p><p class="css-1msd9hy">这些关键字有</p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><style data-emotion="css 1ifvhg3">.css-1ifvhg3{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2);cursor:pointer;font-size:14px;font-family:'Noto Sans SC',sans-serif;letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width: 640px){.css-1ifvhg3{font-size:14px;}}@media screen and (min-width: 768px){.css-1ifvhg3{font-size:16px;}}.css-1ifvhg3[disabled]{cursor:not-allowed;}.css-1ifvhg3:not([disabled]):hover{background-color:var(--theme-ui-colors-primary);color:var(--theme-ui-colors-white);}</style><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<style data-emotion="css 15vf505">.css-15vf505{border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">// 已有的</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">break  delete  function  return typeof</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">case   do  if  switch  var</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">catch  else  in  this  void</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">continue  false  instanceof  throw  while</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">debugger  finally  new  true  with</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">default for  null  try</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">// 未来版本会用到的</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">class  const  enum  export  extends  import  supper</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">// 严格模式下是保留字的</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">implements  let  private  public  yield</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">interface  package  protected  static</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">// 严格模式下面的标识符不能用作变量名、函数名或参数名</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">arguments  eval</span></div></code></pre></div><p class="css-1msd9hy">尽量避免使用如下关键字作为标识符,这些关键字在 ES5 中放宽了限制，但在 ES3 中不能用作标识符：</p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">abstract  double  goto  native  static</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">boolean  enum  implements  package  super</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">byte  export  import  private  synchronized</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">char  extends  int  protected  throws</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">class  final  interface  public  transient</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">const  float  long  short  volatile</span></div></code></pre></div><p class="css-1msd9hy">尽量避免用 JavaScript 定义的全局变量和函数名做变量名和函数名：</p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">arguments  encodeURI  Infinity  Number  RegExp</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">Array  excodeURIComponent  isFinite  Object  String</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">Boolean  Error  isNaN  parseFloat  SyntaxError</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">Date  eval  JSON  parseInt  TypeError</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">decodeURI  EvalError  Math  RangeError  undefined</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">decodeURIComponent  Function  NaN  ReferenceError  URIError</span></div></code></pre></div><h3 class="css-1o6lusp">2.5 可选的分号</h3><p class="css-1msd9hy">JavaScript 使用分号将语句分隔开。</p><p class="css-1msd9hy">如果每条语句各自独占一行，通常可以省略语句之间的分号。</p><p class="css-1msd9hy">两种编码风格：一种是任何情况下都使用分号，另一种是能省略分号就省略分号。</p><p class="css-1msd9hy">在 <code class="css-0">return</code> 、<code class="css-0">break</code> 、 <code class="css-0">continue</code> 和随后的表达式之间不能有换行。</p><h2 class="css-kih3f7">3. 类型、值和变量</h2><p class="css-1msd9hy">类型（type）、值（value）、变量（variable）。</p><p class="css-1msd9hy">JavaScript 数据类型分为两类：原始类型（primitive type）和对象类型（object type）。</p><p class="css-1msd9hy">原始类型包括数字、字符串和布尔值。</p><p class="css-1msd9hy">JavaScript 有两个特殊的原始值：null（空）和 undefined（未定义）。</p><p class="css-1msd9hy">除上述之外就是对象。对象（object）是属性（property）的集合，每个属性都有『名/值对』构成。有一个特殊对象——全局对象（global object）。数组（Array) 也是一种特殊对象，另一种特殊对象是函数。</p><p class="css-1msd9hy">如果函数用来初始化（使用 new 运算符）一个新建的对象，则称之为构造函数（constructor），每个构造函数定义了一类（class）对象——由构造函数初始化的对象组成的集合。</p><p class="css-1msd9hy">类可以看做是对象类型的子类型，除数组（Array）和函数（Function）类外，JavaScript 语言核心还定义了其他三种有用的类：日期（Date）、正则（RegExp）、错误（Error）。</p><p class="css-1msd9hy">JavaScript 解释器有自己的内存管理机制，程序员不用担心对象的销毁和内存回收。</p><p class="css-1msd9hy">JavaScript 是一种面向对象的语言，我们不用全局的定义函数去操作不同类型的值，数据类型本省可以定义方法（method）来使用值。在 JavaScript 中，只有 null 和 undefined 是无法拥有方法的值。</p><p class="css-1msd9hy">JavaScript 的类型可以分为原始类型和对象类型，也可分为可以拥有方法的类型和不能拥有方法的类型，同样可分为可变（mutable）类型和不可变（immutable）类型。可变类型的值是可修改的。</p><style data-emotion="css 1ioa6cd">.css-1ioa6cd{border-left-color:var(--theme-ui-colors-primary);border-left-style:solid;border-left-width:6px;margin-left:0;margin-right:0;padding-left:2rem;}.css-1ioa6cd p{font-style:italic;}</style><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">对象和数组属于可变类型。
数字、布尔值、null 和 undefined 属于不可变类型。</p></blockquote><p class="css-1msd9hy">JavaScript 可以自由地进行数据类型转换。</p><p class="css-1msd9hy">JavaScript 变量是无类型的（untyped），变量可以被赋予任何类型的值，同样一个变量也可以重新赋予不同类型的值。使用 <code class="css-0">var</code> 关键字来声明（declare）变量，<strong class="css-0">ES6 中推荐使用 const,，如果不能使用 const 就使用 let，不要使用 var。</strong></p><p class="css-1msd9hy">JavaScript 采用词法作用域（lexical scoping）。</p><p class="css-1msd9hy">不在任何函数内声明的变量称为全局变量（global variable），在 JavaScript 程序的任何地方都是可见的。在函数内声明的变量具有函数作用域（function scope），只在函数内可见。</p><h3 class="css-1o6lusp">3.1 数字</h3><p class="css-1msd9hy">JavaScript 中所有数字均用浮点数值表示。采用 IEEE 754 标准定义的 64 位浮点格式表示数字，能够表示的整数范围为 $(-2^{53} ~ 2^{53})$ 。在实际操作中（数组索引、位操作符等）是基于 32 位整数。</p><p class="css-1msd9hy">直接出现在 JavaScript 程序中的数字，称为数字直接量（numeric literal）。</p><p class="css-1msd9hy"><strong class="css-0">注意</strong>，在任何数字直接量前添加负号可以得到它们的负值，但负号是一元求反运算符，并不是数字直接量语法的组成部分。</p><p class="css-1msd9hy">数字直接量包括：</p><ol class="css-edo1j3"><li class="css-0">整型直接量（包括以 0x 开头的十六进制值）</li><li class="css-0">浮点型直接量（还可以用指数计数法表示浮点型直接量）</li></ol><p class="css-1msd9hy">基本算数运算符：+（加） 、-（减） 、<!-- -->*<!-- -->（乘） 、/（除） 、%（求余）</p><p class="css-1msd9hy">复杂运算通过 Math 对象的属性定义的函数和常量来实现。</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 常用的 Math 属性函数和常量</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">53</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//=＞9007199254740992:2的53次幂</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">round</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//=＞1.0:四舍五入</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">ceil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//=＞1.0:向上求整</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">floor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0.6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//=＞0.0:向下求整</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//=＞5:求绝对值</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//返回最大值</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//返回最小值</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">random</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//生成一个大于等于0小于1.0的伪随机数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">PI</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//π:圆周率</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">E</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//e:自然对数的底数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">sqrt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//3的平方根</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//3的立方根</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">sin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//三角函数:还有Math.cos,Math.atan等</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//10的自然对数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">/</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">LN10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//以10为底100的对数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">512</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">/</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">LN2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//以2为底512的对数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">exp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//e的三次幂</span></div></code></pre></div><p class="css-1msd9hy">JavaScript 算数运算在溢出（overflow）、下溢（underflow）或被零整除时不会报错。</p><p class="css-1msd9hy">溢出时，结果为一个特殊的无穷大（infinity）值，正数溢出用 Infinity 表示，负数溢出用 -Infinity 表示。</p><p class="css-1msd9hy">下溢是当运算结果无限接近于零并比 JavaScript 能表示的最小值还小的时候发生的一种情况。JavaScript 会返回 0 。当一个负数发生下溢是，返回一个特殊值『负零』，负零和零几乎完全一样，但很少用到负零。</p><p class="css-1msd9hy">被零整除在 JavaScript 中并不会报错，只是返回一个无穷大（Infinity）或负无穷大（-Infinity）。零除以零是没有意义的，结果是一个非数字（not-a-number），用 NaN 表示。</p><p class="css-1msd9hy">无穷大除以无穷大，给任意负数开方，或算数运算符与不是数字或无法转换为数字的操作数一起使用时都将返回 NaN 。</p><p class="css-1msd9hy">Infinity 和 NaN 是 JavaScript 预定义的全局变量，在 ES3 中是可读写的，在 ES5 中为只读。</p><p class="css-1msd9hy">ES3 中，Number 对象定义的属性值也是只读的。</p><p class="css-1msd9hy">JavaScript 中的非数字值（NaN）不与任何值相等，包括自身。即 <code class="css-0">NaN == NaN </code> 为 false 。如果要判断一个变量是否为 NaN ，不能通过 <code class="css-0">x == NaN</code> 来判断，相反，应该使用 <code class="css-0">x != NaN</code> 来判断，当且仅当 x 为 NaN 时，表达式结果才为 true 。函数 <code class="css-0">isNaN()</code> 作用类似，另一个函数 <code class="css-0">isFinite()</code> 在参数不是 NaN 、Infinity 或 -Infinity 时返回 true。</p><p class="css-1msd9hy">负零与正零相等，但正无穷大与负无穷大不等。</p><p class="css-1msd9hy">JavaScript 通过浮点数形式只能表示有限个实数（18 437 736 874 454 810 627 个），JavaScript 表示实数时，常常只是真实值得一个近似表示。</p><p class="css-1msd9hy">现代编程语言所采用的浮点数表示法，是一种二进制表示法，可以精确表示 1/2 、1/8 、 1/1024 等分数，但并不能精确表示 1/10 、1/100 等分数，即不能精确表示类似 0.1 这样简单的数字。可能会出现的情况比如 <code class="css-0">0.3 - 0.2 == 0.2 - 0.1</code> 返回值为 false，二者并不相等，说明两者的近似值不相等。<strong class="css-0">在任何使用二进制浮点数编程语言中都会出现这个问题。</strong></p><p class="css-1msd9hy">JavaScript 语言核心用 Date() 构造函数创建表示日期和时间的对象。</p><h3 class="css-1o6lusp">3.2 文本</h3><p class="css-1msd9hy">字符串（string）是由一组 16 位值组成的<strong class="css-0">不可变</strong>的有序序列。JavaScript 中没有表示单个字符的『字符型』，表示字符只需要将其值付给字符串变量即可。JavaScript 采用 UTF-16 编码的 Unicode 字符集表示字符串，常用 Unicode 字符通过 16 位内码表示，并表示字符串中的单个字符，不能用 16 位 Unicode 字符表示的用两个 16 位值组成的一个序列（代理项对）表示。</p><p class="css-1msd9hy">字符串直接量是由单引号或双引号括起来的字符序列。由单引号界定的字符串中可以包括双引号，同样由双引号界定的字符串中也可以包含单引号。</p><p class="css-1msd9hy">如果要把字符串直接量拆分成多行，每行必须以反斜线（\）结束。</p><p class="css-1msd9hy">JavaScript 和 HTML 都可以单双引号表示字符串，需要约定两种不同书写格式。一般地，JavaScript 用单引号表示字符串，HTML 用双引号。</p><p class="css-1msd9hy">转义字符（escape sequence）用反斜线 (<!-- -->)<!-- --> 后加一个字符表示。</p><p class="css-1msd9hy">JavaScript 转义字符及含义</p><style data-emotion="css 7ckq4h">.css-7ckq4h{width:100%;margin-top:2rem;margin-bottom:2rem;border-collapse:separate;border-spacing:0;}.css-7ckq4h th,.css-7ckq4h td{text-align:left;padding-top:4px;padding-bottom:4px;padding-right:4px;padding-left:0;border-color:var(--theme-ui-colors-muted);border-bottom-style:solid;}</style><table class="css-7ckq4h"><thead><tr class="css-0"><style data-emotion="css fcb6mo">.css-fcb6mo{vertical-align:bottom;border-bottom-width:2px;color:var(--theme-ui-colors-heading);}</style><th class="css-fcb6mo">转义字符</th><th class="css-fcb6mo">含义</th></tr></thead><tbody><tr class="css-0"><style data-emotion="css 15msde0">.css-15msde0{vertical-align:top;border-bottom-width:1px;}</style><td class="css-15msde0">\o</td><td class="css-15msde0">NUL 字符（\u0000）</td></tr><tr class="css-0"><td class="css-15msde0">\b</td><td class="css-15msde0">退格符（\u0008）</td></tr><tr class="css-0"><td class="css-15msde0">\t</td><td class="css-15msde0">水平制表符（\u0009）</td></tr><tr class="css-0"><td class="css-15msde0">\n</td><td class="css-15msde0">换行符(\u000A)</td></tr><tr class="css-0"><td class="css-15msde0">\v</td><td class="css-15msde0">垂直制表符（\u000B）</td></tr><tr class="css-0"><td class="css-15msde0">\f</td><td class="css-15msde0">换页符（\u000C）</td></tr><tr class="css-0"><td class="css-15msde0">\r</td><td class="css-15msde0">回车符（\u0000D）</td></tr><tr class="css-0"><td class="css-15msde0">\&quot;</td><td class="css-15msde0">双引号（\u0022）</td></tr><tr class="css-0"><td class="css-15msde0">\&#x27;</td><td class="css-15msde0">撇号或单引号（\u0027）</td></tr><tr class="css-0"><td class="css-15msde0">\</td><td class="css-15msde0">反斜线（\u005C）</td></tr><tr class="css-0"><td class="css-15msde0">\xXX</td><td class="css-15msde0">由两位十六进制数 XX 指定的 Latin-1 字符</td></tr><tr class="css-0"><td class="css-15msde0">\xXXXX</td><td class="css-15msde0">由四位十六进制数 XXXX 指定的 Unicode 字符</td></tr></tbody></table><p class="css-1msd9hy">加号运算符用于字符串，表示字符串连接。</p><p class="css-1msd9hy">在 JavaScript 中字符串是固定不变的。字符串可以当做只读数组。</p><p class="css-1msd9hy">正则表达式：</p><p class="css-1msd9hy">两条斜线之间的文本构成了一个正则表达式直接量。</p><h3 class="css-1o6lusp">3.3 布尔值</h3><p class="css-1msd9hy">布尔值指代真或假、开或关、是或否。只有两个值，保留字 true 和 false。</p><p class="css-1msd9hy"><code class="css-0">undefined</code>, <code class="css-0">null</code>, <code class="css-0">0</code>, <code class="css-0">-0</code>, <code class="css-0">NaN</code>, <code class="css-0">&quot;&quot;</code> 会被转换成 false，所有其他值，包括数组和对象都会转换成 true。</p><h3 class="css-1o6lusp">3.4 null 和 undefined</h3><p class="css-1msd9hy">null 常用来描述『空值』，null 是一个特殊的对象值，含义是『非对象』。</p><p class="css-1msd9hy">undefined 的值就是『未定义』，表明变量没有初始化，如果查找数组元素或对象属性返回 undefined 则说明这个元素或属性不存在，如果函数没有任何返回值，返回 undefined。</p><p class="css-1msd9hy">null 和 undefined 都不柏阔任何属性和方法，用 『.』 和 『[]』来存取这两个值得成员或方法都会产生一个类型错误。</p><p class="css-1msd9hy">可以认为 undefined 表示系统级的、出乎意料的或类似错误的值得空缺。</p><p class="css-1msd9hy">null 表示程序级的、正常的或在意料中的值得空缺。</p><p class="css-1msd9hy">如果要将它们赋值给变量或者属性，或将它们作为参数传入函数，最佳选择是使用 null。</p><h3 class="css-1o6lusp">3.5 全局对象</h3><p class="css-1msd9hy">全局对象的属性是全局定义的符号，JavaScript 程序可以直接使用，当 JavaScript 解释器启动时，它将创建一个新的全局对象，并给它一组定义的初始属性：</p><ul class="css-edo1j3"><li class="css-0">全局属性，undefined， Infinity，NaN</li><li class="css-0">全局函数，isNaN(), parseInt(), eval()</li><li class="css-0">构造函数，Date(), RegExp(), String(), Object(), Array()</li><li class="css-0">全局对象，Math, JSON</li></ul><p class="css-1msd9hy">全局对象初始属性不是保留字，但应当当做保留字对待。</p><p class="css-1msd9hy">客户端 JavaScript 的全局对象是 Window, 它自身有一个 window 属性指代 this。</p><h3 class="css-1o6lusp">3.6 包装对象</h3><p class="css-1msd9hy">字符串不是对象，但有属性，是因为在引用字符串的属性时，JavaScript 将字符串通过调用 <code class="css-0">new String()</code> 的方式转换成对象，这个对象继承了字符串的方法，并被用来处理属性的引用。</p><p class="css-1msd9hy">数字和布尔值也具有各自的方法：通过 Number() 和 Boolean() 构造函数创建临时对象。</p><p class="css-1msd9hy">null 和 undefined 没有包装对象：访问它们的属性会造成一个类型错误。</p><p class="css-1msd9hy">在读取字符串、数字和布尔值的属性值（或方法）的时候，表现的像对象一样。但如果你试图给其属性赋值，则会忽略这个操作：修改只是发生在临时对象身上，而这个临时对象并未继续保留下来。</p><p class="css-1msd9hy"><strong class="css-0">存取字符串、数字或布尔值的属性时创建的临时对象称做包装对象，它只是偶尔用来区分字符串值和字符串对象、数字和数值对象以及布尔值和布尔对象。</strong></p><p class="css-1msd9hy">可以通过 String(), Number() 或 Boolean() 构造函数显式创建包装对象。</p><ul class="css-edo1j3"><li class="css-0"><p class="css-1msd9hy"><code class="css-0">==</code> 等于运算符将原始值和其包装对象视为相等。</p></li><li class="css-0"><p class="css-1msd9hy"><code class="css-0">===</code> 全等运算符将它们视为不等。</p></li></ul><h3 class="css-1o6lusp">3.7 不可变的原始值和可变的对象引用</h3><ul class="css-edo1j3"><li class="css-0">原始值：undefined、null、布尔值、数字、字符串</li><li class="css-0">对象：数组、对象、函数</li></ul><p class="css-1msd9hy">两者有根本区别，原始值不可更改，对象是可变的。</p><p class="css-1msd9hy">原始值的比较是值的比较，对象的比较并非值的比较：即使两个对象包含同样的属性及相同的值，它们也不相等。</p><p class="css-1msd9hy">通常称对象为引用类型（reference type）。</p><p class="css-1msd9hy">对象值都是引用，对象的比较均是引用的比较：当且仅当它们引用同一个基对象时，它们才相等。</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//定义一个引用空数组的变量a</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//变量b引用同一个数组</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//通过变量b来修改引用的数组</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//=＞1:变量a也会修改</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">a </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//=＞true:a和b引用同一个数组，因此它们相等</span></div></code></pre></div><p class="css-1msd9hy">以上代码只是赋值的引用，对象本身并没有被复制一次。如果要得到一个对象或数组的副本，必须显示复制对象的每个属性或数组的每个元素。可以通过循环语句来完成复制。</p><p class="css-1msd9hy">如果要比较两个对象或数组，应比较它们的属性或元素。</p><h3 class="css-1o6lusp">3.8 类型转换</h3><p class="css-1msd9hy">JavaScript 的 <code class="css-0">==</code> 运算符能按照期望的数据类型对两边的数据进行类型转换。</p><p class="css-1msd9hy">显式转换可以使用 Boolean(), Number(), String() 或 Object() 函数。例如</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Boolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;5&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-1msd9hy">除了 null 和 undefined 之外任何值都具有 toString() 方法，执行结果返回值与 String() 函数返回值一致。</p><p class="css-1msd9hy">将 null 或 undefined 转换成对象，会抛出 TypeError 异常，而使用 Object() 函数则会返回一个创建的空对象。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy"><code class="css-0">+</code> 运算符一个操作数是字符串，JavaScript 会隐式将另一个操作数转换为字符串</p></blockquote><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">一元 『+』运算符将其操作数转换为数字</p></blockquote><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">一元『！』 运算符将其操作数转换为布尔值并取反，用两个『！』则可以达到 Boolean() 的效果</p></blockquote><p class="css-1msd9hy">JavaScript 的 toString() 方法提供精确的数字到字符串转换，toString() 可接受表示转换基数（radix）的可选参数。默认是十进制，可以转换成其他进制，范围是 2~3 之间。</p><p class="css-1msd9hy">数字到字符串的转换，提供小数点位置、有效数字位数、指数计数法三个方法</p><ul class="css-edo1j3"><li class="css-0">toFixed() 根据小数点后指定位数转换数字到字符串，不是用指数计数法</li><li class="css-0">toExponential() 使用指数计数法将数字转换为指数形式的字符串</li><li class="css-0">toPrecision() 根据指定的有效数字位数转换，如果有效数字位数少于整数部分，则用指数形式</li></ul><p class="css-1msd9hy">三种方法都会四舍五入或填充 0.</p><p class="css-1msd9hy">全局函数 parseInt() 和 parseFloat() 会解析整数或整数和浮点数。并且两者都会忽略任意数量前导空格，并忽略数值后面的内容，如果第一个非空字符是非法的数字直接量，将反转 NaN。</p><p class="css-1msd9hy">对象到原始值转换：</p><ul class="css-edo1j3"><li class="css-0">所有对象转换成布尔值都是 true，包括数字和函数</li><li class="css-0">对象到字符转换<ul class="css-edo1j3"><li class="css-0">toString() 方法，默认对象的 toString() 转换结果是 『<!-- -->[object Object]<!-- -->』,数组 toString() 方法返回每个数组元素组成的字符串，所有对象都继承了这个方法，还有函数、日期、RegExp、</li><li class="css-0">所有对象继承的另一个方法是 valueOf()。如果存在原始值，则将对象转换为它的原始值，而大多数对象无法真正表示为一个原始值，因此默认简单返回对象本身。</li></ul></li></ul><p class="css-1msd9hy">对象到字符串的转换：</p><ul class="css-edo1j3"><li class="css-0">如果对象有 toString() 方法，调用这个方法，并进行转换</li><li class="css-0">如果对象没有 toString() 方法，或这个方法并不返回一个原始值，那么会调用 valueOf() 方法</li><li class="css-0">如果两者都不能获得原始值，抛出异常。</li></ul><p class="css-1msd9hy">对象到数字的转换：</p><ul class="css-edo1j3"><li class="css-0">先尝试使用 valueOf() 方法，将原始值转换为数字</li><li class="css-0">否则，使用 toString() 方法</li><li class="css-0">否则，抛出异常</li></ul><p class="css-1msd9hy">『+』、『==』、『!=』和关系运算符是唯一执行字符串到原始值的转换方式的运算符。</p><p class="css-1msd9hy">『-』运算符把两个操作数都转换为数字。</p><h3 class="css-1o6lusp">3.9 变量声明</h3><p class="css-1msd9hy">ES5 中声明变量用 var，使用一个变量之前要声明它，但 JavaScript 里不声明变量直接使用，也不会报错，这会造成很多的麻烦。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">JavaScript 中未声明一个变量就使用该变量，解释器会声明一个全局变量。为了减少不必要的麻烦，使用一个变量之前一定要声明它，或者使用 ES6 的 let 或者 const 声明变量。一般情况下尽量使用 const 声明变量，如果不能使用 const 就使用 let，不要使用 var。</p></blockquote><h3 class="css-1o6lusp">3.10 变量作用域</h3><p class="css-1msd9hy">JavaScript 在函数内部可以声明一个和全局变量同名的局部变量，此时在函数内部全局变量会被局部变量覆盖掉。</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> scope </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;global&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">checkscope</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> scope </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;local&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">scope</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">checkscope</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; local</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">scope</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; global</span></div></code></pre></div><p class="css-1msd9hy">JavaScript 没有块级作用域（block scope），取而代之地使用函数作用域（function scope）：</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy"><strong class="css-0">变量在声明它们的函数体以及这个函数体嵌套的任意函数体内都是有定义的。</strong></p></blockquote><p class="css-1msd9hy">函数作用域是表示在函数体内声明的所有变量在整个函数体内都是可见的，不论是否有函数嵌套函数。这也被称为声明提前（hoisting），即函数里声明的所有变量都被提前至函数体的顶部。</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> scope </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;global&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">functionscope</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">scope</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; undefined,因为的函数内声明的局部变量 scope 被提前了，并且覆盖掉了全局变量，但不会将其赋值提前。</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> scope </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;local&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">scope</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// =&gt; local，输出局部变量值</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1msd9hy">在使用 JavaScript 编程时，为了使代码能更清晰的反应其作用域，会将函数内的所有变量声明在函数体顶部。</p><p class="css-1msd9hy">JavaScript 全局变量是全局对象的属性。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">JavaScript 是基于<strong class="css-0">词法作用域</strong>的语言：通过阅读包含变量定义在内的数行源码就能知道变量的作用域。</p></blockquote><p class="css-1msd9hy">如果把一个局部变量看做是自定义实现的对象的属性，每一段 JavaScript 代码（全局代码或函数）都有一个与之关联的作用域链（scope chain）。一个作用域链是一个<strong class="css-0">对象列表</strong>或<strong class="css-0">链表</strong>。当 JavaScript 需要查找变量 x 的值时（即『变量解析』（variable resolution）），它会从链表第一个对象开始查找，直到找到对象中的 x 属性取得它的值，如果在整个作用域链上没有任何对象含有属性 x ，则会认为这段代码的作用域链上不存在 x ，最终抛出一个引用错误（ReferenceError）异常。</p><p class="css-1msd9hy">JavaScript 代码中，首先有一个<strong class="css-0">全局对象的作用域链</strong>，其次不含嵌套的函数向作用域链添加了<strong class="css-0">定义函数参数和局部变量的对象</strong>，嵌套的函数内作用域链至少含有三个对象：<strong class="css-0">全局对象、外层函数定义函数参数和局部变量的对象、嵌套函数定义函数参数和局表变量的对象</strong></p><p class="css-1msd9hy">TODO： 深入理解作用域链。</p><p class="css-1msd9hy">作用域链对理解 with 语句和理解闭包概念至关重要。</p><h2 class="css-kih3f7">4. 表达式和运算符</h2><p class="css-1msd9hy">最简单的表达式是『原始表达式』（primary expression），是表达式的最小单位，不包含其他表达式。包括：常量、直接量、关键字和变量。</p><p class="css-1msd9hy">常见的复杂表达式是由变量或常量以及运算符构成的。</p><p class="css-1msd9hy">对象和数组初始化表达式被称为『对象直接量』和『数组直接量』。</p><p class="css-1msd9hy">用一对方括号『[]』初始化数组，方括号内的元素可以用逗号省略，省略的位置会填充 undefined。</p><p class="css-1msd9hy">对象初始化表达式用花括号『{}』表示。</p><p class="css-1msd9hy">函数定义表达式，通常包含关键字 function，圆括号，花括号。</p><p class="css-1msd9hy">属性访问表达式有两种表示方法，一种是用点『.』，另一种是用方括号『[]』。点只能用来访问对象属性，且属性名不能包含空格或其他标点符号；方括号可以访问数组元素和对象属性，访问数组元素时，方括号内是数组元素下标，访问对象属性时方括号内的属性名要用引号包围起来，如果属性名是通过运算得到的，也必须使用方括号。</p><p class="css-1msd9hy">调用表达式（invocation expression）是一种调用或执行函数或方法的语法表示。函数如果无返回值，那么返回 undefined。</p><p class="css-1msd9hy">对象创建表达式（object creation expression）创建一个对象并调用一个构造函数初始化新对象的属性，一般包含一个 new 关键字：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 不需要传入参数时，圆括号可以省略</span></div></code></pre></div><p class="css-1msd9hy">JavaScript 中的运算符用于算数表达式、比较表达式、逻辑表达式、赋值表达式等。</p><p class="css-1msd9hy">运算符包括标点符号（+，=）和关键字（delete，instanceof）。</p><p class="css-1msd9hy"><img src="$resource/JavaScript%E8%BF%90%E7%AE%97%E7%AC%A6.jpg" alt="JavaScript 运算符" class="css-0"/></p><p class="css-1msd9hy">运算符可按照其操作数个数进行分类，分为一元运算符（unary operator），二元运算符（binary operator），以及三元运算符。<strong class="css-0">JavaScript 支持一个三元运算符（ternary operator）—— ?:</strong>。</p><p class="css-1msd9hy">操作数类型和运算结果类型可能并不相同。JavaScript 通常会根据需要将操作数类型进行转换。</p><p class="css-1msd9hy">左值：表达式只能出现在赋值运算符的左侧。++，--，变量、对象属性、数组元素均是左值。</p><p class="css-1msd9hy">副作用：++，-- 运算符包含隐式的赋值，delete 运算符也有副作用，删除一个属性就像（但不完全一样）给这个属性赋值 undefined。如果在一个函数体内或构造函数中使用了这些运算符并产生了副作用时，函数调用表达式和对象创建表达式是由副作用的。</p><p class="css-1msd9hy">TODO: 副作用的实际影响</p><p class="css-1msd9hy">属性访问表达式和调用表达式的优先级比所有运算符都要高。</p><p class="css-1msd9hy">进行算术运算时，所有无法转换成数字的操作数都会转换为 NaN 值，如果操作数（或转换结果）是 NaN，算术运算结果也是 NaN。</p><p class="css-1msd9hy">取余（模）运算结果的符号和第一个操作数（被除数）符合保持一致。</p><p class="css-1msd9hy">『+』 运算符</p><p class="css-1msd9hy">加法运算符可以对两个数字做加法，也可以连接字符串。</p><blockquote class="css-1ioa6cd"><ul class="css-edo1j3"><li class="css-0">如果其中一个操作数是对象，会遵循对象到原始值的转换规则转换为原始类值</li><li class="css-0">转换后，如果其中一个操作数是字符串，另一个也会转为字符串</li><li class="css-0">否则两个操作数都将转换为数字（或 NaN），然后进行加法操作。</li></ul></blockquote><p class="css-1msd9hy">一元算数运算符(+、-、++、--)</p><p class="css-1msd9hy">一元算数运算符作用于一个单独的操作数，并产生一个新值。</p><p class="css-1msd9hy">一元加法将操作数转为数字，并返回转换的数字；一元减号将操作数转为数字，并返回转换的数字的反值。</p><p class="css-1msd9hy"><code class="css-0">++x</code> 是前增量（pre-increment)，对操作数进行增量计算，并返回计算后的值；<code class="css-0">x++</code> 是后增量（post-increment)，对操作数进行增量计算，但返回未做增量计算的（unincremented）值。常见于 for 循环。<code class="css-0">--</code> 和 <code class="css-0">++</code> 用法相同，作用相反。</p><p class="css-1msd9hy">位运算符</p><p class="css-1msd9hy">位运算符要求操作数是 32 位整型，它会对操作数转换为数字，并强制表示为 32 为整型，移位运算符要求右操作数在 0 ~ 31 之间。<strong class="css-0">它将其操作数转换为无符号 32 位整数后，它们将舍弃第 5 位之后的二进制位，一遍生成一个位数正确的数字。</strong> 位运算符会将 NaN、Infinity 和 -Infinity 都转换为 0.</p><ul class="css-edo1j3"><li class="css-0">按为与（&amp;）</li></ul><p class="css-1msd9hy">对操作数逐位执行布尔与操作，只有对应位都为 1 时结果才为 1 。</p><ul class="css-edo1j3"><li class="css-0">按位或（|）</li></ul><p class="css-1msd9hy">对操作数逐位执行布尔或操作，只要对应为有一个为 1 结果就为 1.</p><ul class="css-edo1j3"><li class="css-0">按位异或（^）</li></ul><p class="css-1msd9hy">对操作数逐位执行布尔异或操作，只有一个操作数为 1 时结果才为 1 。</p><ul class="css-edo1j3"><li class="css-0">按位非（~）</li></ul><p class="css-1msd9hy">一元运算符，位于一个整型参数之前，对操作数所有位取反。JavaScript 中，取反相当于改变操作数符号并减 1。</p><ul class="css-edo1j3"><li class="css-0">左移（&lt;&lt;）</li></ul><p class="css-1msd9hy">对一个值左移 1 位相当于乘 2，左移两位相当于乘以 4.</p><ul class="css-edo1j3"><li class="css-0">带符号右移（&gt;&gt;）</li></ul><p class="css-1msd9hy">右移高位填补数由原数符号决定，原数为正高位填 0 ，原数为负高位填 1。对一个值右移 1 位相当于除以 2 ，右移两位相当于除以 4 。</p><ul class="css-edo1j3"><li class="css-0">无符号右移（&gt;&gt;&gt;）</li></ul><p class="css-1msd9hy">与 『&gt;&gt;』一样，只不过左边高位总是填补 0 。</p><p class="css-1msd9hy">关系表达式。</p><p class="css-1msd9hy"><code class="css-0">==</code> 和 <code class="css-0">===</code> 运算符比较两个值是否相等。<code class="css-0">===</code> 是严格相等(Strict equality）或恒等运算符（identity operator），不允许进行类型转换。<code class="css-0">==</code> 是相等运算符（equality operator），允许进行类型转换。反过来，<code class="css-0">!=</code> 是不相等，<code class="css-0">!==</code> 是严格不相等。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">通过 x!==x 来判断 x 是否为 NaN，只有在 x 为 NaN 的时候，这个表达式的值才为 true。</p></blockquote><p class="css-1msd9hy">比较运算符包括大于、小于、大于等于、小于等于。比较运算符的操作数可能是任意类型，但只有数字和字符串才能真正执行比较操作，因此不是数字和字符串的操作数都将进行类型转换。类型转换遵循如下规则：</p><blockquote class="css-1ioa6cd"><ul class="css-edo1j3"><li class="css-0">如果操作数为对象，那么将这个对象转换为原始值：如果 valueOf() 返回一个原始值，那么直接使用这个原始值。否则，使用 toString() 的转换结果进行比较。</li><li class="css-0">在对象转换为原始值后，如果两个操作数都是字符串，那么依照字母表顺序（组成字符串的 16 位 Unicode 字符索引顺序 ）进行比较</li><li class="css-0">在对象转换为原始值后，如果至少有一个操作数不是字符串，那么两个操作数都将转换为数字进行数值比较。<ol class="css-edo1j3"><li class="css-0">0 和 -0 相等。</li><li class="css-0">Infinity 比除了它本身任何数字都大</li><li class="css-0">-Infinity 比除了它本身任何数字都小</li><li class="css-0">如果其中一个操作数是（或转换后是）NaN，那么比较结果总是返回 false</li></ol></li></ul></blockquote><p class="css-1msd9hy">进行字符串比较时，要区分字母大小写，大写字母总是小于小写字母。<strong class="css-0">使用 String.localCompare() 方法能更好的比较字符串。对于不区分字母大小写的比较来说，首先要把字符串全部转换为大写或者小写字母，通过 String.toUpperCase() 和 String.toLowerCase()。</strong></p><p class="css-1msd9hy">加号运算符更倾向于操作字符串，如果其中一个操作数是字符串，则进行字符串连接操作，例如 <code class="css-0">1 + &#x27;2&#x27;</code> 结果为 <code class="css-0">12</code>。</p><p class="css-1msd9hy">比较运算符更倾向于操作数字，只有两个操作数都是字符串的时候，才会进行字符串比较，例如 <code class="css-0">1 &lt; &#x27;2&#x27;</code> 结果为 <code class="css-0">true</code>。</p><p class="css-1msd9hy">当一个操作数是 NaN 时，所有 4 个比较运算符均返回 false。</p><p class="css-1msd9hy">in 运算符。</p><p class="css-1msd9hy">in 运算符希望它的左操作数是一个字符串或可以转换为字符串，希望他的右操作数是一个对象。如果右侧的对象拥有一个名为左操作数的属性名，那么表达式返回 true。</p><p class="css-1msd9hy">instanceof 运算符。</p><p class="css-1msd9hy">instanceof 运算符希望左操作数是一个对象，右操作数为对象的类。如果左侧的对象是右侧类的实例，表达式返回 true，否则返回 false。<strong class="css-0">JavaScript 中对象的类是通过初始化它们的构造函数来定义的，因此 instanceof 的右操作数应当是一个函数。</strong></p><p class="css-1msd9hy">所有的对象都是 Object 的实例。如果 instanceof 的左操作数不是对象，结果为 false；如果右操作数不是函数，则抛出类型错误异常。</p><p class="css-1msd9hy">要了解 instanceof 如何工作必须先理解<strong class="css-0">『原型链』（prototype chain）</strong>。</p><p class="css-1msd9hy">TODO：原型链</p><p class="css-1msd9hy">逻辑表达式</p><p class="css-1msd9hy">逻辑与（&amp;&amp;）、逻辑或（||）、逻辑非（!）</p><p class="css-1msd9hy">关系运算符优先级比 &amp;&amp; 和 || 高，因此书写关系表达式之间的逻辑运算不用补圆括号，例如 <code class="css-0">x &gt; 2 &amp;&amp; y &lt; 3</code> 可直接书写。</p><p class="css-1msd9hy">&amp;&amp; 的操作数不一定是布尔值，有些值例如『false、null、undefined、0、-0、NaN、和 &quot;&quot;』都是假值，所有其他值都是真值。<strong class="css-0">&amp;&amp; 可以对真值和假值进行布尔与操作。</strong></p><p class="css-1msd9hy">&amp;&amp; 运算符只有两个操作数都为真值是返回一个真值，否则返回一个假值。但这个返回值首先依赖于左操作数，如果做操作数为假，那么整个表达式为假，返回值就是做操作数的值；如果做操作数为真，则表达式返回结果依赖于右操作数，如果右操作数为真值，则表达式为真，返回右操作数值，如果右操作数为假，则表达式为假，返回有操作数值。<strong class="css-0">因此，&amp;&amp; 运算可能不会去计算右操作数。</strong></p><p class="css-1msd9hy">&amp;&amp; 运算符的行为有时称为『短路』(short circuiting)，利用这一特性可以执行如下代码：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">a </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">stop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">a </span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">stop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//作用同上，只有 a == b 才调用 stop()</span></div></code></pre></div><p class="css-1msd9hy">|| 运算符理解与 &amp;&amp; 类似，只不过当左值为真是表达式就会返回这个真值。|| 运算也可能不会计算右操作数。</p><p class="css-1msd9hy">|| 运算符最常用的方式是从一组备选表达式中选出一个真值表达式：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 如果 maxWidth 已定义，直接使用，否则在 preferences 对象中查找 maxWidth</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 如果对象也未定义 maxWidth,则直接使用一个常量</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> max </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> maxWidth </span><span class="token operator" style="color:rgb(127, 219, 202)">||</span><span class="token plain"> preferences</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">maxWidth</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">||</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-1msd9hy"><strong class="css-0">这种用法一般用在函数体内，来给参数提供默认值。</strong></p><p class="css-1msd9hy">! 运算符会对操作数首先转换为布尔值，因此总是返回 true 或 false。</p><p class="css-1msd9hy">全局函数 eval()</p><p class="css-1msd9hy">eval() 是函数但已经被当做运算符来对待。</p><p class="css-1msd9hy">eval() 只有一个参数，如果这个参数不是字符串，则会直接返回这个参数，如果是字符串，则把字符串当成 JavaScript 代码进行编译，如果编译失败则抛出语法错误（SyntaxError）异常，如果编译成功，则执行这段代码。</p><p class="css-1msd9hy">eval() 具有改变局部变量的能力。ES3 规定任何解释器都不允许对 eval() 赋予别名，否则会抛出 EvalError 异常。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">实际上，大多数的实现并不是这么做的。当通过别名调用时，eval()会将其字符串当成顶层的全局代码来执行。执行的代码可能会定义新的全局变量和全局函数，或者给全局变量赋值，但却不能使用或修改主调函数中的局部变量，因此，这不会影响到函数内的代码优化。</p></blockquote><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">ECMAScript 5 是反对使用 EvalError 的，并且规范了 eval()的行为。“直接的 eval”，当直接使用非限定的&quot;eval&quot;名称（eval 看起来像是一个保留字）来调用 eval()函数时，通常称为“直接 eval”（direct eval）。直接调用 eval()时，它总是在调用它的上下文作用域内执行。其他的间接调用则使用全局对象作为其上下文作用域，并且无法读、写、定义局部变量和函数。</p></blockquote><p class="css-1msd9hy">在严格模式下使用 eval() 时，eval() 是私有上下文环境中的局部 eval。eval 执行的代码段可以查询或改变局部变量，但不能在局部作用域中定义新的变量或函数。</p><p class="css-1msd9hy">typeof 运算符</p><p class="css-1msd9hy">typeof 运算符放在单个操作数前面，返回操作数类型的<strong class="css-0">字符串</strong>。</p><table class="css-7ckq4h"><thead><tr class="css-0"><th class="css-fcb6mo">x</th><th class="css-fcb6mo">typeof x</th></tr></thead><tbody><tr class="css-0"><td class="css-15msde0">undefined</td><td class="css-15msde0">&quot;undefined&quot;</td></tr><tr class="css-0"><td class="css-15msde0">null</td><td class="css-15msde0">&quot;object&quot;</td></tr><tr class="css-0"><td class="css-15msde0">true/false</td><td class="css-15msde0">&quot;boolean&quot;</td></tr><tr class="css-0"><td class="css-15msde0">任意 number/NaN</td><td class="css-15msde0">&quot;number&quot;</td></tr><tr class="css-0"><td class="css-15msde0">任意 string</td><td class="css-15msde0">&quot;string&quot;</td></tr><tr class="css-0"><td class="css-15msde0">任意 function</td><td class="css-15msde0">&quot;function&quot;</td></tr><tr class="css-0"><td class="css-15msde0">任意内置 object</td><td class="css-15msde0">&quot;object&quot;</td></tr><tr class="css-0"><td class="css-15msde0">任意宿主 object</td><td class="css-15msde0">由编译器各自实现的字符串，不是&quot;undefined&quot;,&quot;boolean&quot;,&quot;number&quot;或&quot;string&quot;</td></tr></tbody></table><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">当操作数是 null 的时候，typeof 将返回&quot;object&quot;。如果想将 null 和对象区分开，则必须针对特殊值显式检测。</p></blockquote><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">对于宿主对象来说，typeof 有可能并不返回&quot;object&quot;，而返回字符串。但实际上客户端 JavaScript 中的大多数宿主对象都是&quot;object&quot;类型。</p></blockquote><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">由于所有对象和数组的 typeof 运算结果是&quot;object&quot;而不是&quot;function&quot;，因此它对于区分对象和其他原始值来说是很有帮助的。</p></blockquote><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">如果想区分对象的类，则需要使用其他的手段，比如使用 instanceof 运算符（参照 4.9.4 节）、class 特性（参照 6.8.2 节）以及 constructor 属性（参照 6.8.1 节和§9.2.2 节）。</p></blockquote><p class="css-1msd9hy">所有可执行对象 的 typeof 返回值都是 &quot;function&quot;，包括内置对象（native object）和宿主对象（host object）。</p><p class="css-1msd9hy">大多数浏览器将 JavaScript 原生函数对象当成它们的宿主对象的方法来使用，但 IE 除外。</p><p class="css-1msd9hy">delete 运算符</p><p class="css-1msd9hy">delete 用来删除对象属性或数组元素。delete 希望其操作数是一个左值，如果不是左值则不进行任何操作返回 true，如果是左值，delete 将试图删除这个指定左值，删除成功返回 true。</p><p class="css-1msd9hy">并非所有属性都可以删除，一些内置核心和客户端属性不能删除，用户通过 var 语句声明的变量不能删除，通过 function 语句定义的函数和函数参数也不能删除。<!-- -->*<strong class="css-0">*<!-- -->在严格模式下，这些删除操作都会报错。</strong></p><p class="css-1msd9hy">void 运算符</p><p class="css-1msd9hy">void 出现在操作数之前，操作数可以是任意类型。操作数照常计算，反返回的结果是 undefined。</p><p class="css-1msd9hy">常用在客户端的 URL——javascript:URL 中，<strong class="css-0">在 URL 中可以写带有副作用的表达式，而 void 则让浏览器不必显示这个表达式的计算结果。</strong>例如：</p><div class="gatsby-highlight" data-language="html"><pre class="prism-code language-html" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-html"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">a</span><span class="token tag" style="color:rgb(127, 219, 202)"> </span><span class="token tag attr-name" style="color:rgb(173, 219, 103);font-style:italic">href</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(127, 219, 202)">javascript:void window.open();</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> Open New Window </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">a</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></code></pre></div><p class="css-1msd9hy">逗号运算符（,）</p><p class="css-1msd9hy">先计算左操作数，再计算右操作数，最后返回右操作数的值。总成会计算左侧表达式，但是忽略掉结果。常用在 for 循环中，例如：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> j </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain"> j</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(127, 219, 202)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> j</span><span class="token operator" style="color:rgb(127, 219, 202)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i </span><span class="token operator" style="color:rgb(127, 219, 202)">+</span><span class="token plain"> j</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h2 class="css-kih3f7">5. 语句</h2><p class="css-1msd9hy">语句（statement）是 JavaScript 整句或命令。</p><p class="css-1msd9hy">把表达式当做语句的用法称作表达式语句（expression statem）。</p><p class="css-1msd9hy">声明新变量或定义新函数的语句称作声明语句（declaration statem）。</p><h3 class="css-1o6lusp">5.1 表达式语句</h3><ul class="css-edo1j3"><li class="css-0">赋值</li><li class="css-0">递加（++）和递减（--）</li><li class="css-0">delete 语句</li><li class="css-0">函数调用</li></ul><h3 class="css-1o6lusp">5.2 复合语句和空语句</h3><p class="css-1msd9hy">JavaScript 中可以用花括号将多条语句括起来形成一条复合语句（compound statement）或语句块。</p><blockquote class="css-1ioa6cd"><ol class="css-edo1j3"><li class="css-0">语句块结尾不需要分号，但块中的原始语句必须以分号结束；</li><li class="css-0">语句块中的行都有缩进，但不是必须的，为了代码可读性更强，更容易理解，需要用缩进；</li><li class="css-0">JavaScript 没有块级作用域，在语句块中声明的变量并不是语句块私有的。</li></ol></blockquote><p class="css-1msd9hy">语句块用在很多地方，if，for，while，等。</p><p class="css-1msd9hy">空语句表示一行代码除了分号其他什么也没有，自然不会执行任何动作，但它是很有用的，例子：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 初始化数组 a</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token operator" style="color:rgb(127, 219, 202)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">例子中在 for 循环体内已经完成数组初始化，因此不需要在 for 循环体中包含其他任何语句，但 JavaScript 需要循环体至少包含一条语句，故而空语句起到了了作用。</p></blockquote><p class="css-1msd9hy"><strong class="css-0">需要注意的是，在 JavaScript 的 for 循环、while 循环或 if 语句右圆括号后的使用分号很容易被忽略，如果错误使用分号则会导致致命 bug，而且这些 bug 难以定位，因此如果要使用空语句最好进行注释说明。</strong></p><h3 class="css-1o6lusp">5.3 声明语句</h3><ol class="css-edo1j3"><li class="css-0">var</li></ol><p class="css-1msd9hy">用 var 声明一个或者多个变量，<strong class="css-0">不过最好不要用 var，而应该用 ES6 的 let 或 const。</strong></p><ol start="2" class="css-edo1j3"><li class="css-0">function</li></ol><p class="css-1msd9hy">函数声明语句通常出现在代码顶层，一个函数由 function，funcname,arguments，{}，以及花括号内的语句块构成。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">函数声明语句与函数定义表达式二者不同之处</p></blockquote><blockquote class="css-1ioa6cd"><ol class="css-edo1j3"><li class="css-0">函数声明语句中的函数名是一个变量名，变量指向函数对象</li><li class="css-0">函数定义语句中的整个函数被显式地“提前”到了脚本或函数顶部；使用 var 的话，只有变量声明提前了，变量初始化代码仍然在原来的位置</li></ol></blockquote><h3 class="css-1o6lusp">5.4 条件语句</h3><p class="css-1msd9hy">条件语句包括 <code class="css-0">if/else</code> 和 <code class="css-0">switch</code>。</p><p class="css-1msd9hy">关于 switch 语句需要注意的是：<strong class="css-0">case 在进行比较时，是按照<code class="css-0">===</code> 运算符进行比较的。</strong></p><p class="css-1msd9hy">switch 语句的每一个 case 也可以用 return 代替 break，这种情况主要用在函数体内。</p><p class="css-1msd9hy">每个 case 关键字可以跟随任意表达式，但最安全的做法是在 case 表达式中使用常量表达式。</p><p class="css-1msd9hy">switch 语句中的 default 语句块一般出现在末尾，但其实可以出现在任何位置。</p><h3 class="css-1o6lusp">5.5 循环</h3><p class="css-1msd9hy">JavaScript 有 4 中循环语句：while,do/while,for,for/in.</p><p class="css-1msd9hy">while 与 do/while 区别在于：</p><ul class="css-edo1j3"><li class="css-0">while 首先会检测循环表达式，表达式为真，执行循环体，表达式为假，不执行循环体；而 do/while 会先执行循环体，后检测循环表达式，因此循环体至少会被执行一次。</li><li class="css-0">do/while 循环必须使用关键字 do 来标识循环开始，用 while 来标识循环结尾并进入循环条件判断。</li><li class="css-0">do/while 循环以分号结尾</li></ul><p class="css-1msd9hy">for 循环：</p><p class="css-1msd9hy">for 循环的三个表达式中的任何一个都可以省略，但两个分号是必不可少的。</p><p class="css-1msd9hy">for/in 循环：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">variable </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  statement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1msd9hy">for/in 循环只会遍历可枚举（enumerable）的属性。</p><p class="css-1msd9hy">一般情况下，属性枚举顺序按照属性定义的先后顺序来枚举简单对象属性。在以下情况中，枚举的顺序取决于具体实现（并且是非交互的）：</p><ul class="css-edo1j3"><li class="css-0">对象继承了可枚举属性</li><li class="css-0">对象具有整数数组索引的属性</li><li class="css-0">使用 delete 删除了对象已有的属性</li><li class="css-0">使用 Object.defineProperty() 或者类似的方法改变了对象的属性</li></ul><p class="css-1msd9hy">除了所有非继承的“自有”属性以外的继承属性往往都是可枚举的，而且按照他们定义的顺序进行枚举。</p><p class="css-1msd9hy">数组索引是非数字或数组时稀疏数组时他们按照特定顺序枚举。</p><h3 class="css-1o6lusp">5.6 跳转</h3><ol class="css-edo1j3"><li class="css-0">标签语句</li></ol><p class="css-1msd9hy">通过在语句天添加标识符和冒号为语句添加标签，就可以在程序的任何地方拖过标签名引用这条语句，但首先要给语句块定义标签才会有用。<strong class="css-0">break 和 continue 是 JavaScript 中唯一可以使用语句标签的语句。</strong></p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">mainloop</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">token </span><span class="token operator" style="color:rgb(127, 219, 202)">!=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token spread operator" style="color:rgb(127, 219, 202)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">continue</span><span class="token plain"> mainloop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token spread operator" style="color:rgb(127, 219, 202)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">标签的命名空间和变量或函数的命名空间是不同的，因此可以使用同一个标识符作为语句标签和作为变量名或函数名。语句标签只有在它所起作用的语句（当然也可以在它的子句中）内是有定义的。一个语句标签不能和它内部的语句标签重名，但在两个代码段不相互嵌套的情况下是可以出现同名的语句标签的。带有标签的语句还可以带有标签，也就是说，任何语句可以有很多个标签。</p></blockquote><ol start="2" class="css-edo1j3"><li class="css-0">break 语句</li></ol><p class="css-1msd9hy">单独使用 break 语句立即退出最内层循环或 switch 语句。</p><p class="css-1msd9hy">break 后面也可以跟随一个以定义的语句标签：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">break</span><span class="token plain"> labelname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-1msd9hy">程序会跳转到这个标签所标识的语句块的结束，或直接终止这个闭合语句块的执行。</p><p class="css-1msd9hy">break 语句控制权无法越过函数边界，无论有没有标签。</p><ol start="3" class="css-edo1j3"><li class="css-0">continue 语句</li></ol><p class="css-1msd9hy">continue 语句是结束本次循环转而执行下一次循环。语法与 break 一样。</p><ol start="4" class="css-edo1j3"><li class="css-0">return 语句</li></ol><p class="css-1msd9hy">return 语句只能在函数体内出现，否则会报语法错误。</p><ol start="5" class="css-edo1j3"><li class="css-0">throw 语句</li></ol><p class="css-1msd9hy">抛出程序异常。</p><ol start="6" class="css-edo1j3"><li class="css-0">try/catch/finally 语句</li></ol><p class="css-1msd9hy">首先执行 try 中代码，当发生错误是通过 catch 抛出异常，最终会执行 finally 中的代码。语句中的 finally 会一直在最后被执行。解释器会忽略掉 finally 中的 return，continue，break 或 throw。</p><h3 class="css-1o6lusp">5.7 其他语句类型</h3><p class="css-1msd9hy">with,debugger,&quot;use strict&quot;.</p><p class="css-1msd9hy">with 用于临时扩展作用域链，语法为：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">with</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> statement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-1msd9hy">普通模式下尽量避免使用 with，在严格模式下禁止使用 with。</p><p class="css-1msd9hy">在对象嵌套层次很深的时候通常会使用 with 语句简化代码编写。</p><p class="css-1msd9hy">debugger 用手在调试程序时在代码中添加断点。</p><p class="css-1msd9hy">&quot;use strict&quot; 是 ES5 引入的一条指令，而非语句，它与普通语句的之间的区别是：</p><blockquote class="css-1ioa6cd"><ol class="css-edo1j3"><li class="css-0">它不包含任何语言的关键字，指令仅仅是一个包含一个特殊字符串直接量的表达式（可以是使用单引号也可以使用双引号），对于那些没有实现 ECMAScript 5 的 JavaScript 解释器来说，它只是一条没有副作用的表达式语句，它什么也没做。将来的 ECMAScript 标准希望将 use 用做关键字，这样就可以省略引号了。</li><li class="css-0">它只能出现在脚本代码的开始或者函数体的开始、任何实体语句之前。但它不必一定出现在脚本的首行或函数体内的首行，因为&quot;use strict&quot;指令之后或之前都可能有其他字符串直接量表达式语句，并且 JavaScript 的具体实现可能将它们解析为解释器自有的指令。在脚本或者函数体内第一条常规语句之后字符串直接量表达式语句只当做普通的表达式语句对待；它们不会当做指令解析，它们也没有任何副作用。</li></ol></blockquote><p class="css-1msd9hy">使用 &quot;use strict&quot; 表示代码是严格代码。</p><p class="css-1msd9hy">严格模式与非严格模式区别：</p><ul class="css-edo1j3"><li class="css-0">严格模式中禁止使用 with <!-- -->*</li><li class="css-0">严格模式中，所有的变量都要先声明，如果给一个未声明的变量、函数、函数参数、catch 从句参数或全局对象的属性赋值，将会抛出一个引用错误异常。而非严格模式会隐式声明一个全局变量。<!-- -->*</li><li class="css-0">严格模式中，调用函数中的一个 this 值是 undefined。非严格模式下函数中的 this 值总是全局对象。<!-- -->*</li><li class="css-0">严格模式中，通过 call() 或 apply() 来调用函数时，其中的 this 值就是通过 call() 或 apply() 传入的第一个参数。在非严格模式中， null 和 undefined 值被全局对象和转换为对象的非对象值所代替。</li><li class="css-0">严格模式中，给只读属性值和给不可扩展的对象创建新成员都将抛出一个类型错误异常。在非严格模式中，这些操作只是简单地操作失败，不会报错。</li><li class="css-0">严格模式中，传入 eval() 的代码不能在调用程序所在的上下文中声明变量或定义函数，而在非严格模式中是可以这样做的。相反，变量和函数的定义是在 eval()创建的新作用域中，这个作用域在 eval()返回时就弃用了。</li><li class="css-0">在严格模式中，函数里的 arguments 对象（见 8.3.2 节）拥有传入函数值的静态副本。在非严格模式中，arguments 对象具有“魔术般”的行为，arguments 里的数组元素和函数参数都是指向同一个值的引用。</li><li class="css-0">在严格模式中，当 delete 运算符后跟随非法的标识符（比如变量、函数、函数参数）时，将会抛出一个语法错误异常（在非严格模式中，这种 delete 表达式什么也没做，并返回 false）。</li><li class="css-0">在严格模式中，试图删除一个不可配置的属性将抛出一个类型错误异常（在非严格模式中，delete 表达式操作失败，并返回 false）。</li><li class="css-0">在严格模式中，在一个对象直接量中定义两个或多个同名属性将产生一个语法错误（在非严格模式中不会报错）。</li><li class="css-0">在严格模式中，函数声明中存在两个或多个同名的参数将产生一个语法错误（在非严格模式中不会报错）。</li><li class="css-0">在严格模式中是不允许使用八进制整数直接量（以 0 为前缀，而不是 0x 为前缀）的（在非严格模式中某些实现是允许八进制整数直接量的）。</li><li class="css-0">在严格模式中，标识符 eval 和 arguments 当做关键字，它们的值是不能更改的。不能给这些标识符赋值，也不能把它们声明为变量、用做函数名、用做函数参数或用做 catch 块的标识符。</li><li class="css-0">在严格模式中限制了对调用栈的检测能力，在严格模式的函数中，arguments.caller 和 arguments.callee 都会抛出一个类型错误异常。严格模式的函数同样具有 caller 和 arguments 属性，当访问这两个属性时将抛出类型错误异常（有一些 JavaScript 的实现在非严格模式里定义了这些非标准的属性）。</li></ul><h2 class="css-kih3f7">6. 对象</h2><p class="css-1msd9hy">对象可以看做是属性的无序集合，也可以看成是从字符串到值的映射。</p><p class="css-1msd9hy">除了字符串、数字、true、false、null 和 undefined 之外，JavaScript 中的值都是对象。</p><p class="css-1msd9hy">通过引用来操作对象。如果变量 x 是指向一个对象的引用，那么执行代码 <code class="css-0">var y = x;</code> 变量 y 也是指向同一个对象的引用，而非这个对象的副本。通过变量 y 修改这个对象亦会对变量 x 造成影响。</p><p class="css-1msd9hy">对象最常见的用法是创建（create）、设置（set）、查找（query）、删除（delete）、检测（test）和枚举（enumerate）它的属性。</p><p class="css-1msd9hy">属性名是可以包含空字符串在内的任意字符串，但不能存在两个同名属性。</p><p class="css-1msd9hy">值可以是任意 JavaScript 值，或者一个 getter 或 setter 函数（或两者都有）。</p><p class="css-1msd9hy">属性特性（property attribute）包括：</p><ul class="css-edo1j3"><li class="css-0">可写（writable attribute)，表明是否可以设置该属性的值</li><li class="css-0">可枚举（enumeralbe attribute），表明是否可以通过 for/in 循环返回该属性</li><li class="css-0">可配置（configurable attribute），表明是否可以删除或修改该属性。</li></ul><p class="css-1msd9hy">对象的对象特性（object attribute）：</p><ul class="css-edo1j3"><li class="css-0">对象的原型（prototype）指向另外一个对象，本对象的属性继承自它的原型对象。</li><li class="css-0">对象的类（class）是一个标识对象类型的字符串。</li><li class="css-0">对象的扩展标记（extensible flag）指明了（在 ECMAScript 5 中）是否可以向该对象添加新属性。</li></ul><p class="css-1msd9hy">三类对象和两类属性：</p><ul class="css-edo1j3"><li class="css-0">内置对象（native object）是由 ECMAScript 规范定义的对象或类。例如，数组、函数、日期和正则表达式都是内置对象。</li><li class="css-0">宿主对象（host object）是由 JavaScript 解释器所嵌入的宿主环境（比如 Web 浏览器）定义的。客户端 JavaScript 中表示网页结构的 HTMLElement 对象均是宿主对象。既然宿主环境定义的方法可以当成普通的 JavaScript 函数对象，那么宿主对象也可以当成内置对象。</li><li class="css-0">自定义对象（user-defined object）是由运行中的 JavaScript 代码创建的对象。</li><li class="css-0">自有属性（own property）是直接在对象中定义的属性。</li><li class="css-0">继承属性（inherited property）是在对象的原型对象中定义的属性。</li></ul><h3 class="css-1o6lusp">6.1 创建对象</h3><p class="css-1msd9hy">创建对象的方式有：对象直接量、关键字 new 和 Object.create()</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">对象直接量是一个表达式，这个表达式的每次运算都创建并初始化一个新的对象。每次计算对象直接量的时候，也都会计算它的每个属性的值。也就是说，如果在一个重复调用的函数中的循环体内使用了对象直接量，它将创建很多新对象，并且每次创建的对象的属性值也有可能不同。</p></blockquote><p class="css-1msd9hy">每一个对象都从原型继承属性。一个对象可能继承自多个原型，这些链接的原型对象称为“原型链”。</p><p class="css-1msd9hy">Object.create() 包含两个参数，第一个参数是这个对象的原型，第二个参数是可选的，用以对对象属性进行进一步描述。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">Object.create()是一个静态函数，而不是提供给某个对象调用的方法。</p></blockquote><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 使用方法一、直接传入对象</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> o1 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> x</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> y</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 使用方法二、通过传入 null  创建没有原型的对象</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> o2 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 使用方法三、创建普通空对象，传入 Object.prototype</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> o3 </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">可以通过任意原型创建新对象（换句话说，可以使任意对象可继承）</p></blockquote><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">通过原型继承创建一个新对象</p></blockquote><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//inherit()返回了一个继承自原型对象p的属性的新对象</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//这里使用ECMAScript 5中的Object.create()函数（如果存在的话）</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//如果不存在Object.create()，则退化使用其他方法</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">inherit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token operator" style="color:rgb(127, 219, 202)">==</span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">throw</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">TypeError</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//p是一个对象，但不能是null</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//如果Object.create()存在</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">create</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//直接使用它</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> t</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token keyword" style="color:rgb(127, 219, 202)">typeof</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//否则进行进一步检测</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">t</span><span class="token operator" style="color:rgb(127, 219, 202)">!==</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;object&quot;</span><span class="token plain">＆＆t</span><span class="token operator" style="color:rgb(127, 219, 202)">!==</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;function&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">throw</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">TypeError</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//定义一个空构造函数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">  f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">prototype</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//将其原型属性设置为p</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//使用f()创建p的继承对象</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">inherit()函数的其中一个用途就是防止库函数无意间（非恶意地）修改那些不受你控制的对象。不是将对象直接作为参数传入函数，而是将它的继承对象传入函数。当函数读取继承对象的属性时，实际上读取的是继承来的值。</p></blockquote><h3 class="css-1o6lusp">6.2 属性的查询和设置</h3><p class="css-1msd9hy">通过 <code class="css-0">.</code> 或 <code class="css-0">[]</code> 来获取属性值。</p><p class="css-1msd9hy">通过 <code class="css-0">[]</code> 获取属性值更像是数组，这种数组称作关联数组（associative array），也称作散列、映射或字典（dictionary）。</p><p class="css-1msd9hy">JavaScript 对象都是关联数组。</p><p class="css-1msd9hy">属性赋值操作只会在原始对象上创建属性或对已有属性赋值，而不会去修改原型链。</p><p class="css-1msd9hy">查询一个对象及其原型都不存在的属性返回 undefined，查询一个不存在的对象的属性会报错。</p><p class="css-1msd9hy">举例：避免上述报错的方法</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 1.</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> len </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(127, 219, 202)">undefined</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">subtitle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    len </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">subtitle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 2.</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> len </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> book </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> book</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">subtitle</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">&amp;&amp;</span><span class="token plain"> books</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">subtitle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-1msd9hy">给 null 和 undefined 设置属性也会报类型错误。</p><p class="css-1msd9hy">给只读属性赋值，给不允许新增属性对象添加属性，在普通模式下不会报错，但在严格模式下任何失败的属性设置操作都会抛出一个类型错误异常。</p><h3 class="css-1o6lusp">6.3 删除属性</h3><p class="css-1msd9hy">delete 删除对象的属性，它的操作数是一个属性访问表达式，<strong class="css-0">delete 只是断开属性和宿主对象的联系，而不会去操作属性中的属性。</strong></p><p class="css-1msd9hy">delete 只能删除自有属性，继承属性必须从定义这个属性的原型对象上删除它，并且会影响所有继承自这个原型的对象。</p><p class="css-1msd9hy">delete 不能删除不可配置属性，不能删除全局变量，不能删除全局函数</p><h3 class="css-1o6lusp">6.4 检测属性</h3><p class="css-1msd9hy">用 <code class="css-0">in</code> 运算符、<code class="css-0">hasOwnProperty()</code> 和 <code class="css-0">propertyIsEnumerable()</code> 判断某个属性是否存在于某个对象中。</p><p class="css-1msd9hy">用法：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> o </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> x</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// in</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;x&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// hasOwnProperty()</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">hasOwnProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;x&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// propertyIsEnumerable()</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 该方法只有在自有属性可枚举才返回 true</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">propertyIsenumerabe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;x&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-1msd9hy">也可以用 <code class="css-0">!==</code> 判断一个属性是否为 undefined，对象中存在某个属性，<code class="css-0">!== undefined</code> 返回 true，否则返回 false。但如果这个属性值本身为 undefined 时，只能使用 in 运算符。</p><h3 class="css-1o6lusp">6.5 枚举属性</h3><p class="css-1msd9hy">继承的属性、方法也是可以被枚举的，如果不想枚举这些属性，则需要过滤，主要通过两种方法过滤：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 1</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">!</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">hasOwnProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">continue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 跳过继承的属性</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//2</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">typeof</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;function&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">continue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//跳过方法</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1msd9hy">枚举属性名称函数 <code class="css-0">Object.keys()</code> 和 <code class="css-0">Object.getOwnPropertyNames()</code>，第二个函数返回对象所有自有属性名称，而不仅仅是可枚举属性。</p><h3 class="css-1o6lusp">6.6 属性 getter 和 setter</h3><p class="css-1msd9hy">ES5 中属性值可以用 getter 和 setter 方法替代。</p><p class="css-1msd9hy">由 getter 和 setter 定义的属性称作<strong class="css-0">存取器属性（accessor property）</strong>，一般的的属性称作<strong class="css-0">数据属性（data property）</strong>，数据属性只有一个简单的值。</p><p class="css-1msd9hy">存取器属性不具有可写性（writable attribute）。</p><ul class="css-edo1j3"><li class="css-0">如果属性同时具有 getter 和 setter 方法，它是一个可读/写属性</li><li class="css-0">如果只有 getter 方法，它是一个只读属性</li><li class="css-0">如果只有 setter 方法，它是一个只写属性，读取只写属性返回 undefined</li></ul><p class="css-1msd9hy">定义存取器属性方法：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> o </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//普通的数据属性</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  data_prop</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//存取器属性都是成对定义的函数</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">accessor_prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*这里是函数体*/</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">set</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">accessor_prop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*这里是函数体*/</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-1msd9hy">存取器属性可以继承。</p><h3 class="css-1o6lusp">6.7 属性的特性</h3><p class="css-1msd9hy">可写、可枚举、可配置。</p><ul class="css-edo1j3"><li class="css-0">数据属性包含 4 个特性：值（value）、可写性（writable）、可枚举性（enumerable）、可配置性（configurable）</li><li class="css-0">存取器属性包含 4 个特性：读取（get）、写入（set）、可枚举性、可配置性</li></ul><p class="css-1msd9hy">属性描述符（property descriptor）对象用来实现属性特性的查询和设置操作，这个对象具有上述 4 个特性的属性。</p><p class="css-1msd9hy">通过调用 <code class="css-0">Object.getOwnPropertyDescriptor()</code> 获得某个对象特性属性的属性描述符。</p><p class="css-1msd9hy">设置属性特性或想要新建属性具有某种特性，需要调用 <code class="css-0">Object.defineProperty()</code>，传入要修改的对象、要创建或修改的属性名称以及属性描述符对象。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">传入的描述符对象不必包含所有四个特性。且此方法只能修改已有属性和新建自有属性，不能修改继承属性</p></blockquote><p class="css-1msd9hy">同时修改或创建多个属性，使用 <code class="css-0">Object.defineProperties()</code>。第一个参数是要修改的对象，第二个参数是一个映射表，包含要新建或修改的属性名称以及他们的属性描述符。</p><p class="css-1msd9hy">对于不允许创建或修改的属性，使用 <code class="css-0">Object.defineProperty()</code> 和 <code class="css-0">Object.defineProperties()</code> 对其操作会抛出类型错误异常。</p><h3 class="css-1o6lusp">6.8 对象的三个属性</h3><p class="css-1msd9hy">每一个对象都有与之相关的原型（prototype）、类（class）和可扩展性（extensible attribute）。</p><ul class="css-edo1j3"><li class="css-0">原型属性</li></ul><p class="css-1msd9hy">对象的原型属性是用来继承属性的。</p><p class="css-1msd9hy">通过将对象作为参数传入 <code class="css-0">Object.getPrototypeOf()</code> 查询对象原型。</p><p class="css-1msd9hy">使用 <code class="css-0">isPrototypeOf()</code> 检测一个对象是否是另一个对象的原型（或处于原型链中）。</p><ul class="css-edo1j3"><li class="css-0">类属性</li></ul><p class="css-1msd9hy">要想获得对象的类，可以通过调用对象的 toString() 方法，然后提取返回字符串的第 8 个到倒数第二个位置之间的字符。</p><p class="css-1msd9hy">classof() 实现：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">classof</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">o </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:rgb(127, 219, 202)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Null&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">o </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> undeifined</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Undefined&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">call</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">slice</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><ul class="css-edo1j3"><li class="css-0">可扩展性</li></ul><p class="css-1msd9hy">表示是否可以给都对象添加新属性。所有内置对象和自定义对象都是显示可扩展的。宿主对象的可扩展性有 JavaScript 引擎定义。</p><p class="css-1msd9hy">通过将对象作为参数传入 <code class="css-0">Object.preventExtensions()</code> 将对象转换为不可扩展对象。一旦转换为不可扩展对象，则不能再将其转换为可扩展对象。该方法只影响对象本身，如果给该对象原型添加属性，则即使该对象为不可扩展，也会继承原型中所添加的新属性。</p><p class="css-1msd9hy">Object.seal() 除了能够将对象设置为不可扩展的，还可以将对象的所有自有属性都设置为不可配置的。已经 sealed 的对象不能解封。使用 Object.isSealed() 检测对象是否封闭。</p><p class="css-1msd9hy">Object.freeze() 将更严格地锁定对象——冻结（frozen）。除了能实现以上两个方法的功能，还可以将自有的所有数据属性设置为只读。用 Object.isFrozen() 检测对象是否冻结。</p><h3 class="css-1o6lusp">6.9 序列化对象</h3><p class="css-1msd9hy">将对象的状态转换为字符串，也可将字符串还原为对象。</p><p class="css-1msd9hy">通过 JSON.stringfy()和 JSON.parse() 实现。</p><p class="css-1msd9hy">可以引入 <a href="http://json.org/json2.js" class="css-1bw77fa">http://json.org/json2.js</a> 在 ES3 环境使用上述函数。</p><h3 class="css-1o6lusp">6.10 对象方法</h3><ul class="css-edo1j3"><li class="css-0">hasOwnProperty(),</li><li class="css-0">propertyIsEnumerable(),</li><li class="css-0">isPrototypeOf(),</li><li class="css-0">Object.create(),</li><li class="css-0">Object.getPrototypeOf(),</li><li class="css-0">toString(),</li><li class="css-0">toLocaleString()</li><li class="css-0">toJSON()</li><li class="css-0">valueOf()</li></ul><h2 class="css-kih3f7">7. 数组</h2><p class="css-1msd9hy">JavaScript 数组时无类型的，<strong class="css-0">数组庸俗课程是任意类型，并且数组中不算元素也可能有不同类型，数组的元素也可能是对象或其他数组，因此可以创建复杂的数据结构，如数组的数组和对象的数组。</strong></p><p class="css-1msd9hy">JavaScript 数组最大索引是 2^32-2(4 294 967 294).</p><p class="css-1msd9hy">创建 JavaScript 数组时无需给定大小。稀疏数组的索引不一定连续。</p><p class="css-1msd9hy">JavaScript 数组是 JavaScript 对象的特殊形式。</p><h3 class="css-1o6lusp">7.1 创建数组</h3><ul class="css-edo1j3"><li class="css-0">使用数组直接量创建</li></ul><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> arrayName </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><p class="css-1msd9hy">数组直接量语法允许有可选的结尾逗号，<!-- -->[,,]<!-- --> 只有两个元素而非三个。</p><ul class="css-edo1j3"><li class="css-0">调用构造函数 Array()</li></ul><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 调用时没有参数，创建一个空数组，相当于使用直接量创建数组</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// 调用时传一个数值参数，指定数组长度</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//显示指定两个或多个元素或数组的一个非数值元素</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> c </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">Array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h3 class="css-1o6lusp">7.2 数组元素的读和写</h3><p class="css-1msd9hy">访问数组元素用 [] 操作符，方括号内是一个返回非符整数值的任意表达式。方括号内即可以是数组索引也可以是数组元素。<strong class="css-0">数组是对象的特殊形式，使用方括号访问数组元素就像使用方括号访问对象属性一样。</strong></p><p class="css-1msd9hy">数组的索引和对象的属性名相似，区别在于只有在 0 ~ 2^32-2 之间的整数属性名才是索引。数组的特别之处在于对于在 0 ~ 2^32-2 之间的属性名会自动维护数组 length 属性值。</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">可以使用负数或非整数来索引数组。这种情况下，数值转换为字符串，字符串作为属性名来用。既然名字不是非负整数，它就只能当做常规的对象属性，而非数组的索引。</p></blockquote><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">当试图查询任何对象中不存在的属性时，不会报错，只会得到 undefined 值。</p></blockquote><h3 class="css-1o6lusp">7.3 稀疏数组</h3><p class="css-1msd9hy">用 Array() 构造函数或指定数组索引值大于当前数组长度来创建稀疏数组。</p><p class="css-1msd9hy">也可以用 delete 操作符产生稀疏数组。</p><p class="css-1msd9hy">需要注意的是，<strong class="css-0">在数组直接量中省略值时不会创建稀疏数组</strong>，省略的元素是 undefined 。（这里的省略值是指使用直接量语法创建数组时数组中的所有值都被省略）???使用 node 验证后发现，此方法创建的数组也无元素。</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string string" style="color:rgb(173, 219, 103)"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token template-string string" style="display:inline-block;color:rgb(173, 219, 103)">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token template-string string" style="display:inline-block;color:rgb(173, 219, 103)">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token template-string string" style="color:rgb(173, 219, 103)">如果省略数组直接量中的某几个值，所得到的数组时稀疏数组。</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token template-string string" style="display:inline-block;color:rgb(173, 219, 103)">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token template-string string" style="color:rgb(173, 219, 103)"></span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token plain">javascript</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></code></pre></div><h3 class="css-1o6lusp">7.4 数组长度</h3><p class="css-1msd9hy">数组长度必定大于每个元素索引值。</p><ol class="css-edo1j3"><li class="css-0">如果赋值元素的索引 a 大于等于数组长度，数组 length 属性值将设为 a + 1</li><li class="css-0">如果设置 length 属性小于当前长度非负整数 n 时，当前数组索引值大于等于 n 的元素将被删除。</li></ol><p class="css-1msd9hy">设置数组 length 属性为只读：</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">defineProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">arrayName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;length&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">writable</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></code></pre></div><h3 class="css-1o6lusp">7.5 添加和删除数组元素</h3><p class="css-1msd9hy">添加数组元素</p><ol class="css-edo1j3"><li class="css-0">为新索引赋值</li><li class="css-0">使用 push() 方法在数组末尾增加一个或多个元素 3.</li><li class="css-0">使用 unshift() 在数组首部插入一个元素，并把其他元素依次移到更高索引处</li></ol><p class="css-1msd9hy">删除数组元素</p><ol class="css-edo1j3"><li class="css-0">使用 delete 运算符删除数组元素，会让数组变成一个稀疏数组</li><li class="css-0">使用 pop() 方法，每次减少长度 1 并返回被删除元素的值（与 push()对应 )</li><li class="css-0">使用 shift() 从数组头部删除一个元素（与 unshift()对应)。</li></ol><h3 class="css-1o6lusp">7.6 遍历数组</h3><p class="css-1msd9hy">使用 for 循环</p><p class="css-1msd9hy">使用 for/in 循环处理稀疏数组</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-1ifvhg3">Copy<span aria-roledescription="status" class="css-15vf505">copy code to clipboard</span></button><code class="language-javascript"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(127, 219, 202)">!</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">hasOwnProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">continue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//跳过继承的属性</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//循环体</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="color:rgb(127, 219, 202)">var</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(127, 219, 202)">in</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">//跳过不是非负整数的i</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">floor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token known-class-name class-name" style="color:rgb(255, 203, 139)">Number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">!==</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(127, 219, 202)">continue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><p class="css-1msd9hy">使用 forEach() 方法</p><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">按照索引顺序按个传递数组元素给定义的函数。</p></blockquote><h3 class="css-1o6lusp">7.7 多维数组</h3><p class="css-1msd9hy">JavaScript 不支持真正的多维数组，但可以用数组的数组来近似。即数组的每一个元素也是一个数组，访问二维数组元素时用两个索引即可，例如 array<!-- -->[x][y]</p><h3 class="css-1o6lusp">7.8 数组方法</h3><ol class="css-edo1j3"><li class="css-0">join()</li></ol><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">将数组中所有元素都转化为字符串并连接在一起，返回最后生成的字符串。</p></blockquote><ol start="2" class="css-edo1j3"><li class="css-0">reverse()</li></ol><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">将数组中的元素颠倒顺序，返回逆序的数组。</p></blockquote><ol start="3" class="css-edo1j3"><li class="css-0">sort()</li></ol><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">将数组中的元素排序并返回排序后的数组。</p></blockquote><p class="css-1msd9hy">可以给该方法传递参数</p><ul class="css-edo1j3"><li class="css-0">当不传参数调用该方法时，数组元素以字母表顺序排序</li><li class="css-0">如果要以其他方式排序，必须给该方法传递一个比较函数</li></ul><blockquote class="css-1ioa6cd"><p class="css-1msd9hy">该函数决定了它的两个参数在排好序的数组中的先后顺序
函数应有两个参数，函数的返回值分为负数、0、正数
当第一个参数应该在前时，返回负数；第一个参数应该在后时，返回正数；当两个参数相等时，返回 0。</p></blockquote><ol start="4" class="css-edo1j3"><li class="css-0"><p class="css-1msd9hy">concat()</p></li><li class="css-0"><p class="css-1msd9hy">slice()</p></li><li class="css-0"><p class="css-1msd9hy">splice()</p></li><li class="css-0"><p class="css-1msd9hy">push() 和 pop()</p></li><li class="css-0"><p class="css-1msd9hy">unshift() 和 shift()</p></li><li class="css-0"><p class="css-1msd9hy">toString() 和 toLocaleString()</p></li></ol></section><footer class="post-footer"><a class="css-bpdkdn" href="/tags/notes"><span class="m-1 bg-gray-200 hover:bg-gray-300 rounded-full px-2 font-bold text-sm leading-loose cursor-pointer">#<!-- -->notes</span></a></footer></main><style data-emotion="css y7pay1">.css-y7pay1{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide);padding-top:1rem;}.css-y7pay1 a{color:var(--theme-ui-colors-secondary);-webkit-text-decoration:none;text-decoration:none;}.css-y7pay1 a:hover{color:var(--theme-ui-colors-heading);-webkit-text-decoration:underline;text-decoration:underline;}.css-y7pay1 a:focus{color:var(--theme-ui-colors-heading);}@media screen and (min-width: 640px){.css-y7pay1{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width: 768px){.css-y7pay1{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-y7pay1"><div>© <!-- -->2022<!-- --> by <!-- -->BEIHAI Blog<!-- -->. All rights reserved.</div><div><style data-emotion="css 1fmmdck">.css-1fmmdck{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);-webkit-text-decoration:none;text-decoration:none;}.css-1fmmdck:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://github.com/LekoArts/gatsby-themes/tree/main/themes/gatsby-theme-minimal-blog" class="css-1fmmdck">Theme</a> <!-- -->by<!-- --> <a aria-label="Link to the theme author&#x27;s website" href="https://www.lekoarts.de?utm_source=minimal-blog&amp;utm_medium=Theme" class="css-1fmmdck">LekoArts</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><span style="position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0"><span aria-hidden="true" style="position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0;font-family:&quot;&#x27;Noto Sans SC&#x27;, sans-serif&quot;"> </span></span><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/javascript-the-definitive-guide-6th-edition-note/";window.___webpackCompilationHash="feca5a58659cd4d59e11";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-d61253794eba68653921.js"],"app":["/app-15bb8988e3d4ff32065b.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-6f188b0f4d7fd6fbc37a.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx-fb1a760fe41f22295616.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-74f4e62b0574fd6e3268.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-0ba29a80fd0bb999f086.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-5dfd077513440fa76278.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-a2e112944461eea43add.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-d962e5dd54886764f580.js"]};/*]]>*/</script><script src="/polyfill-d61253794eba68653921.js" nomodule=""></script><script src="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-0ba29a80fd0bb999f086.js" async=""></script><script src="/076b648d06f94fa0e68f4094bcf9c1a72c93f983-bdeab7b9cef700a010e4.js" async=""></script><script src="/app-15bb8988e3d4ff32065b.js" async=""></script><script src="/framework-de026f80c4152d2570ec.js" async=""></script><script src="/webpack-runtime-050af6b145167609215a.js" async=""></script></body></html>